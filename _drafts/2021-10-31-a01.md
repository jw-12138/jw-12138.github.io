---
title: 究竟什么样的代码才叫专业？
tags: 
  - JavaScript
  - 编码习惯
---

最近在油管看了一个视频，名字叫 [Junior Vs Senior Code - How To Write Better Code](https://www.youtube.com/watch?v=g2nMKzhkvxw)，可以说标题立刻勾起了我的好奇心，我真的很好奇一个初级程序员和一个高级程序员在面对同样业务逻辑的时候，写出的代码为什么会天差地别。然而看完该视频后，我对于作者对高级程序员的看法可能有点不同的见解。

就 JavaScript 而言，在作者的观点中，一个pro应该：

- 所有的代码都必须尽可能的简洁干净
- 考虑所有可能出现的错误，并在自己的方法中处理掉

然而事实上，我们真的需要这样写代码吗？

先来看这样一段代码：

```javascript
[].forEach.call($$('*'), function(a) {a.style.outline = "1px solid #" + (~~(Math.random()*(1<<24))).toString(16)})
```

这是 Addy Osmani 2014年在Github Gist上面发布一段用来调试CSS的代码，如果你把它复制进浏览器的Devtools控制台并按下回车执行它，它会给每一个元素都加上不同颜色的outline。抛开代码中用到的技术不谈，单论这样一行代码，你觉得它专业吗？我的答案是：

It depends.

如果你是参加一个编程比赛，谁能用最少的代码让浏览器上每个元素都显示出不同颜色的outline，那这样一行代码可以说是非常专业，很可能就是赢了。但是如果这是一个团队协作的项目，你写出这样的代码，code reviewer可能会骂死你。为什么？因为你的代码可读性几乎为零，除了炫技，一无是处。作为团队中的一员，保证其他成员能以最低成本看懂你的代码才应该是最高优先级的。



```javascript
/**
 * @description put outline on every single element in the document
 */
function outlineEveryThing() {
  let everyElements = document.querySelectorAll('*')
  everyElements.forEach((el) => {
    let randomColor = makeRandomColor()
    el.style.outline = `1px solid #${randomColor}`
  })
}
/**
 * @description get a random hex color value `rrggbb` without the `#`
 */
function makeRandomColor() {
  // get a random number between 0 - (256 * 256 * 256)
  let _r = parseInt(Math.random() * (256 * 256 * 256))

  // return number in hexadecimal
  return _r.toString(16)
}
```

再来看看这段代码，在保证同样功能性的前提下，大幅提高了代码的可读性，这才是我们在开发阶段需要的代码！

可能有人会说性能问题，那我告诉
