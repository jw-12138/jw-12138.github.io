<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.0">Jekyll</generator><link href="https://jw1.dev/atom.xml" rel="self" type="application/atom+xml" /><link href="https://jw1.dev/" rel="alternate" type="text/html" /><updated>2021-11-17T23:53:19+08:00</updated><id>https://jw1.dev/atom.xml</id><title type="html">一个球的博客</title><subtitle>Front-end Developer / Music Producer</subtitle><entry><title type="html">究竟什么样的代码才能被称为专业？</title><link href="https://jw1.dev/2021/10/31/a01.html" rel="alternate" type="text/html" title="究竟什么样的代码才能被称为专业？" /><published>2021-10-31T00:00:00+08:00</published><updated>2021-10-31T00:00:00+08:00</updated><id>https://jw1.dev/2021/10/31/a01</id><content type="html" xml:base="https://jw1.dev/2021/10/31/a01.html">&lt;p&gt;最近在油管看了一个视频，名字叫 &lt;a href=&quot;https://www.youtube.com/watch?v=g2nMKzhkvxw&quot;&gt;Junior Vs Senior Code - How To Write Better Code&lt;/a&gt;，可以说标题立刻勾起了我的好奇心，我真的很好奇一个初级程序员和一个高级程序员在面对同样业务逻辑的时候，写出的代码为什么会天差地别。然而看完该视频后，我对于作者对高级程序员的看法有些不同的见解。&lt;/p&gt;
&lt;p&gt;就JavaScript而言，在作者的观点中，一个pro应该：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;所有的代码都必须尽可能的简洁干净&lt;/li&gt;
&lt;li&gt;考虑所有可能出现的错误，并在方法中处理掉&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;然而事实上，我们真的需要这样写代码吗？&lt;/p&gt;
&lt;p&gt;先来看这样一段代码：&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;[].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;outline&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;1px solid #&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~~&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;这是Addy Osmani在Github Gist上面发布一段用来调试CSS的代码，如果你把它复制进浏览器的Devtools控制台并按下回车执行它，它会给每一个元素都加上不同颜色的outline。抛开代码中用到的技术不谈，单论这样一行代码，你觉得它专业吗？我的答案是：&lt;/p&gt;
&lt;p&gt;It depends.&lt;/p&gt;
&lt;p&gt;如果你是参加一个编程比赛，主题是用最少的代码让浏览器上每个元素都显示出不同颜色的outline，那这样一行代码可以说是非常专业了，很可能你就是冠军了。但是如果这是一个团队协作的项目，你给出了这样的代码，code reviewer反而可能会骂死你。为什么？因为你的代码可读性几乎为零，除了炫技，一无是处。作为团队中的一员，保证其他成员能以最低成本看懂你的代码才应该是最高优先级的。&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cm&quot;&gt;/**
 * @description put outline on every single element in the document
 */&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;outlineEverything&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;everyElements&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;querySelectorAll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;everyElements&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;el&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;randomColor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;makeRandomColor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;el&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;outline&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;`1px solid #&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;randomColor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt;/**
 * @description get a random hex color value `rrggbb` without the `#`
 * @returns {string} 
 */&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;makeRandomColor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// get a random number between 0 - (256 * 256 * 256)&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;256&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;256&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;256&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;// return number in hexadecimal&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;outlineEverything&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;再来看看现在的代码，在保证同样功能性的前提下，大幅提高了代码的可读性，这才是我们在开发阶段需要的代码啊！&lt;/p&gt;
&lt;p&gt;可能有人会说性能问题，那如果我告诉你后者的性能只比前者差不到5%你会怎么想？&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202110/a01/image-20211031235747406.png&quot; alt=&quot;image-20211031235747406&quot; /&gt;&lt;/p&gt;
&lt;p&gt;这5%的性能损失可能会换回同事的不杀之恩也不一定呢？而且很多时候，&lt;strong&gt;并不是代码少，程序就能跑得快的&lt;/strong&gt;，关于这一点以后可以专门写一篇博客来说明一下。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;—— 在开发阶段，你越是压缩代码的写法，在维护阶段它越有可能被删掉。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr /&gt;
&lt;p&gt;下面再来说说，自己的代码中究竟应不应该处理所有可能出现的错误。来看看这样一段代码：&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;itemData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;quantity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;discount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.05&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// rate in 0-1 scale&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/**
 * @description get items total amount of money with discount applied
 * @param {object} item
 * @param {number} item.price
 * @param {number} item.discount
 * @param {number} item.quantity
 * @returns {string} total money
 */&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getTotal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_total&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;quantity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;price&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_discountAppliedTotal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_total&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;discount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_discountAppliedTotal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toFixed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getTotal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;itemData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;如果执行正确的话，那么控制台应该输出&lt;code&gt;28.50&lt;/code&gt;，因为一共3件商品，商品单价为10，再加上5%的折扣，那总价确实是28.50，按照现实中的逻辑，这样的代码不管是从可读性和健壮性来说其实已经非常好了。但是以视频作者的意思，任何可能出错的地方都要加以处理，也就是说，我们需要考虑商品数量、折扣和单价都有可能会出现&lt;code&gt;null&lt;/code&gt;或者&lt;code&gt;undefined&lt;/code&gt;值，如此缜密的心思当然是值得鼓励的，但是从实际开发角度看去这会让原本clean的代码变得not that clean：&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getTotal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;discount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;discount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;price&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;price&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;price&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;quantity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;quantity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;quantity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_total&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;quantity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;price&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_discountAppliedTotal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_total&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;discount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_discountAppliedTotal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toFixed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;getTotal&lt;/code&gt;方法的代码瞬间比之前多了一倍，而且这么写下来真的有意义吗？如果后端真的返回给你的数值是负数或者为&lt;code&gt;null&lt;/code&gt;，这难道不应该是后端的问题吗？为什么要在前端进行静默处理？是觉得debug难度还不够大吗？&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;—— 任何代码的出现都应当以实际业务逻辑为参考系，否则毫无意义。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr /&gt;
&lt;p&gt;总结：脚踏实地，事无巨细，这样写出来的代码，才是专业的代码。&lt;/p&gt;</content><author><name></name></author><category term="编码习惯" /><summary type="html">最近在油管看了一个视频，名字叫 Junior Vs Senior Code - How To Write Better Code，可以说标题立刻勾起了我的好奇心，我真的很好奇一个初级程序员和一个高级程序员在面对同样业务逻辑的时候，写出的代码为什么会天差地别。然而看完该视频后，我对于作者对高级程序员的看法有些不同的见解。</summary></entry><entry><title type="html">关于瞬态控制器（Transient Shaper）</title><link href="https://jw1.dev/2021/09/23/a01.html" rel="alternate" type="text/html" title="关于瞬态控制器（Transient Shaper）" /><published>2021-09-23T00:00:00+08:00</published><updated>2021-09-23T00:00:00+08:00</updated><id>https://jw1.dev/2021/09/23/a01</id><content type="html" xml:base="https://jw1.dev/2021/09/23/a01.html">&lt;div class=&quot;sugg-back&quot;&gt;
    &lt;strong&gt;看起来你正在使用RSS阅读器浏览本页面，通常情况下作者不会要求您去官网进行阅读，但是此页面包含一些自定义音频组件，为了得到更好的体验，请访问博客官网 https://jw1.dev 进行阅读。谢谢！&lt;/strong&gt;
    &lt;br&gt;
&lt;/div&gt;
&lt;p&gt;对于已经接触音乐制作行业许久的各位大佬而言，瞬态控制器真的一点都不陌生，甚至可以说是太熟悉。但是对于刚入门的新同学来说，这个概念还是非常模糊的，所以今天就来聊聊，什么是瞬态控制器？该在什么地方用它？&lt;/p&gt;
&lt;p&gt;瞬态控制器，我们可以“顾名思义”一下，它会控制音频起音的那一瞬间的音量。不过没有音频样本对比的话我们还是很难知道这个叫瞬态控制器的东西究竟做了什么。&lt;/p&gt;
&lt;p&gt;先来听一下原声：&lt;/p&gt;
&lt;p&gt;&lt;app-audio src=&quot;/p_assets/202109/a01/a01_3.mp3&quot;&gt;&lt;/app-audio&gt;&lt;/p&gt;
&lt;p&gt;再来听一下瞬态控制器处理过的声音：&lt;/p&gt;
&lt;p&gt;&lt;app-audio src=&quot;/p_assets/202109/a01/a01_4.mp3&quot;&gt;&lt;/app-audio&gt;&lt;/p&gt;
&lt;p&gt;听起来好像也许可能大概瞬态控制器处理过的鼓组&lt;strong&gt;更加有力&lt;/strong&gt;一点？再组合起来听一下（可以打开循环按钮，来回切换声音源感受）：&lt;/p&gt;
&lt;p&gt;&lt;app-audio-diff :on=&quot;{src: &apos;/p_assets/202109/a01/a01_3.mp3&apos;, text: &apos;原声&apos;}&quot; :off=&quot;{src: &apos;/p_assets/202109/a01/a01_4.mp3&apos;, text: &apos;经过瞬态控制器处理的声音&apos;}&quot;&gt;&lt;/app-audio-diff&gt;&lt;/p&gt;
&lt;p&gt;如果还是不确定的话我们再来看看图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202109/a01/Untitled.png&quot; alt=&quot;Image&quot; /&gt;&lt;/p&gt;
&lt;p&gt;上面一轨是原声，下面一轨是处理过的。我们可以很明显的看到，被处理过的音频的音量明显比没处理过的…… 更小了？其他好像也没啥区别啊？但是我们主观上，第二轨确实听起来更加有力一点。&lt;/p&gt;
&lt;p&gt;好，我先解释第一点，为什么音量变小了？&lt;/p&gt;
&lt;p&gt;这里就要引入另一个混音的概念了 —— &lt;strong&gt;音量补偿 (Volume compensation)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在混音里，我们会经常性地开关效果器以此来监听音频被处理前后的区别，但是一些插件的处理难免会增加或减小原始音频的&lt;strong&gt;响度 (Loudness)&lt;strong&gt;或&lt;/strong&gt;电平 (Volume)&lt;/strong&gt;，而人耳会主观的认为，更大的响度听起来更好一点，这就影响了我们对于调整效果器参数或者选择完全不同效果器的客观性。这里就不再展开来讲了，大家只需要知道，我针对处理过的音频做了对应音量上的修改以此来维持大家的监听客观性就可以了。&lt;/p&gt;
&lt;p&gt;再来说这段音频处理前后到底有什么区别，我们来把电平图放大了对比来看看：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202109/a01/Untitled%201.png&quot; alt=&quot;Image&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202109/a01/Untitled%202.png&quot; alt=&quot;Image&quot; /&gt;&lt;/p&gt;
&lt;p&gt;我们可以非常清晰的看到，起音电平被放大了将近三倍。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;现在我们终于知道瞬态控制器究竟控制的是什么了！&lt;/strong&gt; 同时我们也知道了为什么第二轨听起来这么有力的原因。&lt;/p&gt;
&lt;p&gt;至于瞬态控制器可以用在哪里，除了我刚才已经演示过的鼓组，也可以用在其他乐器上，比如大提琴：&lt;/p&gt;
&lt;p&gt;原声：&lt;/p&gt;
&lt;p&gt;&lt;app-audio src=&quot;/p_assets/202109/a01/a01_5.mp3&quot;&gt;&lt;/app-audio&gt;&lt;/p&gt;
&lt;p&gt;处理之后：&lt;/p&gt;
&lt;p&gt;&lt;app-audio src=&quot;/p_assets/202109/a01/a01_6.mp3&quot;&gt;&lt;/app-audio&gt;&lt;/p&gt;
&lt;p&gt;没错！这里我弱化了大提琴演奏pizzicato技法时候的瞬态，获得了更加柔和的声音。&lt;/p&gt;
&lt;p&gt;谁说瞬态控制器只能用在打击乐上了？有时候我们可以creative一点，你完全可以把瞬态控制器用在人声上，用来提升或降低人声中爆破音的力度，毕竟说白了，瞬态控制器也是从&lt;strong&gt;压缩器&lt;/strong&gt;转变过来的。&lt;/p&gt;
&lt;p&gt;好了，今天就讲这么多！peace out 😎&lt;/p&gt;</content><author><name></name></author><category term="混音" /><category term="编曲" /><summary type="html">看起来你正在使用RSS阅读器浏览本页面，通常情况下作者不会要求您去官网进行阅读，但是此页面包含一些自定义音频组件，为了得到更好的体验，请访问博客官网 https://jw1.dev 进行阅读。谢谢！</summary></entry><entry><title type="html">从VSCode到WebStorm，我后悔了吗？</title><link href="https://jw1.dev/2021/08/31/a01.html" rel="alternate" type="text/html" title="从VSCode到WebStorm，我后悔了吗？" /><published>2021-08-31T00:00:00+08:00</published><updated>2021-08-31T00:00:00+08:00</updated><id>https://jw1.dev/2021/08/31/a01</id><content type="html" xml:base="https://jw1.dev/2021/08/31/a01.html">&lt;p&gt;是的，又一篇关于代码编辑器的文章。以前的我说过，不要纠结什么软件厉害，什么软件是行业标准，只管用适合你的，但是今天我又在这里讲抛弃用了两年的VSCode，头也不回地就加入了WebStorm的阵营。我错了吗？我没有，我只是发现WebStorm更适合我。&lt;/p&gt;
&lt;p&gt;不过讲真的，第一天使用WebStorm最直接的感受就是——累。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;超级复杂的配置项&lt;/li&gt;
&lt;li&gt;摸不着头脑的设置同步&lt;/li&gt;
&lt;li&gt;发育不良的插件市场&lt;/li&gt;
&lt;li&gt;一点头绪都没有的快捷键，甚至有点反人类&lt;/li&gt;
&lt;li&gt;奇怪的版本管理&lt;/li&gt;
&lt;li&gt;无法理解的单项目设计&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;等等等等，还有数不清的无法习惯的习惯，让我一度开始怀疑自己这项决定是否正确和值得。&lt;/p&gt;
&lt;p&gt;光是解决&lt;code&gt;tabSize&lt;/code&gt;就花了我半天时间，你需要进每个文件类型选择相应的&lt;code&gt;tabSize&lt;/code&gt;
。这一点相比VSCode确实不怎么方便。但是往好了想，独立的文件配置确实会让你看起来更加专业，对于一些特殊的文件类型也可以自定义配置。这就好像WebPack和Parcel的区别，一个方便但是傻，一个聪明但是麻烦。好在这些东西你只需要设置一遍，因为WebStorm和VSCode一样，都有同步设置的选项。&lt;/p&gt;
&lt;p&gt;WebStorm同步主要有两种：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Git仓库同步&lt;/li&gt;
&lt;li&gt;JetBrains账号同步&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;作为小白的我第一次用就算是踩到了坑，直接使用了Git仓库同步。你需要在任意Git平台新开一个仓库来存储所有的设置，可以从本地提交覆盖线上的设置(Push)，也可以从线上下载覆盖本地的设置(Pull)
，听起来一切都很完美，然而Git仓库不支持同步插件。主要是，在你使用Git仓库同步设置之后，使用JetBrains账号同步的功能是置灰的，也就是说一次只能使用一个同步方式，为此我还特地去论坛上查了一下怎么使用JetBrains账户同步设置。好吧，你需要先把之前设置的Git仓库地址删掉，之后才可以使用JetBrains账号来同步。当然了，这一项功能仅限购买了正版WebStorm的用户使用😎。使用账户同步之后一切都变得简单了，一切设置和插件更改都能多端同步。&lt;/p&gt;
&lt;p&gt;说到插件，WebStorm的插件市场和VSCode比起来可以说是“发育不良”。截至我写博客的这个时间点，VSCode已经有22k+之多的插件了，而WebStorm只有2.7k+。造成这一现象的原因，我猜不只是因为VSCode更受欢迎或者开源之类的，WebStorm作为一个IDE本来就包揽了强大功能的同时也造就了插件市场的萎靡。不过苦苦寻找之后，作者还是发现了几个之前在VSCode上钟爱的几款插件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/7573-fast-scrolling&quot;&gt;Fast-Scrolling&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/2162-string-manipulation&quot;&gt;String Manipulation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/15727-xcode-theme&quot;&gt;XCode Theme&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/12062-vscode-keymap&quot;&gt;VSCode Keymap&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;最喜欢的当然还是VSCode Keymap，习惯一款软件的快捷键需要漫长的时间，这是我当下不愿意支出的时间成本。&lt;/p&gt;
&lt;p&gt;最后两点让我很难受就是版本控制的UI设计和一次只能打开一个项目的设计了。&lt;/p&gt;
&lt;p&gt;为什么说版本控制的UI让我很难受，确实，信息量对比无插件的VSCode来说多了不少，但是Push操作面板要和提交面板分开？是为了不让用户误触吗？是为了防止新手乱搞吗？然而问题是，菜鸟总有办法乱搞，Pro总有办法恢复。&lt;/p&gt;
&lt;p&gt;至于单项目设计，我看论坛上已经有人问过了：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;如何在一个WebStorm实例中打开多个项目？&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;官方给出的回答是：Never. (我帮你们简化了一下&lt;/p&gt;
&lt;p&gt;不过，替代方案总归是有的，左上角找到&lt;code&gt;File → Attach Project&lt;/code&gt;，这样确实可以实现一个WebStorm实例打开多个项目。但是随着我更加深入的使用WebStorm，渐渐地我发现了这样设计的妙处。&lt;/p&gt;
&lt;p&gt;一次打开一个项目可以让你更加专注在项目上，而不用多个项目切换来切换去，而且你可以针对每个项目做出不同的配置，比如Web服务、Npm脚本或者项目构建，在单实例单项目的模式下，你可以很好的专注在这些细节上。&lt;/p&gt;
&lt;p&gt;很多人追求做Web开发就是要快，所以代码编辑器一定也不能慢，在后续一系列的测试中也表明了，VSCode不论是启动速度还是代码提示速度确实比WebStorm要快。以前的我对这些也是洋洋得意，但是看了很多反面描写的文章之后，我开始意识到，速度快，并代表你能写好代码。这也是为什么我会有这样的好奇心来试一试WebStorm是不是真的像他们说的那么好。&lt;/p&gt;
&lt;p&gt;在实际使用中，WebStorm从启动到完全显示UI组件大概在10-20秒之间，VSCode大概在5秒以内，启动速度确实慢了一些，但是处于可接受范围内。再来看生产效率，WebStorm几乎会在任何地方给你提示：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;编辑Vue项目时，可以跟踪到内嵌在html标签上方法和变量，也有语法高亮&lt;/li&gt;
&lt;li&gt;编辑JS文件时，可以跟踪一个不在当前文件中的方法&lt;/li&gt;
&lt;li&gt;编辑JS模版时，会高亮html语法&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;同时，得益于单实例单项目的设计，Reference和Usage模糊查询几乎不会出错。&lt;/p&gt;
&lt;p&gt;再说代码格式化(Reformat)，WebStorm格式化一个3000行的Less文件只需要200ms左右，而同样使用Prettier引擎的VSCode需要800ms - 1000ms左右。&lt;/p&gt;
&lt;p&gt;更甚于，WebStorm会把所有的不规范的语法，事无巨细的告诉你，初期我只觉得烦，后来慢慢的，一点点的去核查，一点点的消除警告和错误，才发现，WebStorm一直在尝试让你写出规范漂亮的代码，在项目初期就直接规避掉日后可能会使整个项目崩溃的小错误。&lt;/p&gt;
&lt;p&gt;所以，从VSCode到WebStorm，我后悔了吗？&lt;/p&gt;
&lt;p&gt;嗯，暂时还没有，为什么说暂时呢，按照VSCode的发展速度，以及其插件市场的扩展速度，可能没几年，VSCode的体验就会超过WebStorm，至于JetBrains公司是否会因为感到压力陡增进而加速发展对应产品，我们拭目以待吧！&lt;/p&gt;</content><author><name></name></author><category term="代码编辑器" /><summary type="html">是的，又一篇关于代码编辑器的文章。以前的我说过，不要纠结什么软件厉害，什么软件是行业标准，只管用适合你的，但是今天我又在这里讲抛弃用了两年的VSCode，头也不回地就加入了WebStorm的阵营。我错了吗？我没有，我只是发现WebStorm更适合我。</summary></entry><entry><title type="html">记「第一次商业摄影」</title><link href="https://jw1.dev/2021/07/15/a01.html" rel="alternate" type="text/html" title="记「第一次商业摄影」" /><published>2021-07-15T00:00:00+08:00</published><updated>2021-07-15T00:00:00+08:00</updated><id>https://jw1.dev/2021/07/15/a01</id><content type="html" xml:base="https://jw1.dev/2021/07/15/a01.html">&lt;h3 id=&quot;section&quot;&gt;2021.05.27&lt;/h3&gt;
&lt;p&gt;虽然又是社畜的一天，不过今天和往常不一样的是，下班后得去即将拍摄的工厂参观一下。&lt;/p&gt;
&lt;p&gt;几天前，朋友找到我，说要给他家工厂做一个宣传片，看我最近在研究剪辑。于是商量能不能找我搞个宣传片。嚯！就我这个暴脾气当下就接了下来，也直接确定了到时候拍摄可以租专业设备进行拍摄的想法。这一点，对于刚刚接触影视制作没多久的我来说，诱惑着实是有点大的。&lt;/p&gt;
&lt;p&gt;不得不说，专车接送还是非常爽的。五点半下班后，准时上了朋友的奔驰S400前往工厂。&lt;/p&gt;
&lt;p&gt;厂子和我想象中有点不太一样，并不是很高大上的样子你们懂我意思吧🌝。但是管他呢，过两天就能玩到牛逼的设备了。朋友老爸给我介绍了一圈，对于基本的生产流程我已经了解了，剩下的就是制定拍摄方案了，原定5月29号的拍摄也延到了6月5号，一切都是为了拍摄当天不至于手忙脚乱。&lt;/p&gt;
&lt;h3 id=&quot;section-1&quot;&gt;2021.06.05&lt;/h3&gt;
&lt;p&gt;于是拍摄当天我就开启了手忙脚乱模式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;第一次借设备，没好意思问，结果拿到的脚架只能pan(左右)，tilt(上下)非常卡顿&lt;/li&gt;
&lt;li&gt;借了两张存储卡，一张256Gb，一张512Gb，512Gb那张不能用&lt;/li&gt;
&lt;li&gt;为了压低制作成本，没有借跟焦器和电影镜头&lt;/li&gt;
&lt;li&gt;没有分镜，没有细化拍摄脚本，只有大概流程&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这车翻的……妥妥地&lt;/p&gt;
&lt;h3 id=&quot;section-2&quot;&gt;这次的翻车心得&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;千万不要在不熟悉设备的情况下直接就去拍摄，如果这是非常严肃的商业摄影，你到时候连死都不知道怎么死的。(literally&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;永远永远都要记住检查你的存储媒介，因为你不想出现那种，导演到了，道具准备好了，演员也就位了，都在酝酿情绪了，你却告诉导演储存卡坏了的情况...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在自己经济条件和制作成本够的上的情况下，不要吝啬租借一些高级的设备，因为你永远不知道你手头上看似过得去的设备会给你怎么样的惊喜。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;最最最最最重要的一点：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;千万不要在没有详细脚本和分镜的情况下直接就去拍摄。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;我们现在的情况就很僵，很多镜头拍完了和朋友一对才发现他说的根本不是那个意思，更不用说有很多镜头压根儿没有拍了(被骂的很惨)。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;section-3&quot;&gt;能想到的补救措施&lt;/h3&gt;
&lt;p&gt;目前来讲，最靠谱的就是重新借设备拍摄了，不过在下次拍摄之前，我希望我和我的homie们能拟一份详尽的拍摄脚本，精确到秒的那种！个人觉得，如果拍摄脚本比较细致，那这份脚本对于拍摄部署的帮助度已经能够达到80%了。&lt;/p&gt;
&lt;p&gt;而分镜则是剩下那20%，听起来或许不是很多，但绝对是商业摄影中必不可少的一部分！&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;分镜是对剧本文字的视觉化。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;分镜可以弥补文字脚本的不足，能让客户在正式开机之前能有一个大概的视觉印象，这对缩减制作和后期成本有非常大的作用。&lt;/p&gt;
&lt;p&gt;好了，说完了。&lt;/p&gt;
&lt;p&gt;希望下次拍摄顺利吧！&lt;/p&gt;</content><author><name></name></author><category term="影视制作" /><category term="日记" /><summary type="html">2021.05.27</summary></entry><entry><title type="html">编曲中Sidechain的作用</title><link href="https://jw1.dev/2021/07/02/a01.html" rel="alternate" type="text/html" title="编曲中Sidechain的作用" /><published>2021-07-02T00:00:00+08:00</published><updated>2021-07-02T00:00:00+08:00</updated><id>https://jw1.dev/2021/07/02/a01</id><content type="html" xml:base="https://jw1.dev/2021/07/02/a01.html">&lt;p&gt;如果你通过搜索引擎找到这篇博客，那说明你的脑子里起码有这样几个问题：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;什么是Sidechain？&lt;/li&gt;
&lt;li&gt;为什么要用Sidechain？&lt;/li&gt;
&lt;li&gt;使用Sidechain都有哪些方法？&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;非常典型的what-why-how问题，不急，接下来我会为大家一一讲解。&lt;/p&gt;
&lt;h3 id=&quot;sidechain&quot;&gt;什么是Sidechain？&lt;/h3&gt;
&lt;p&gt;这个概念我在&lt;a href=&quot;https://jw1.dev/2020/09/15/a01.html&quot;&gt;压缩器那篇博客&lt;/a&gt;中提过，也说过会单独写一篇博客讲解，这不？来了！在这我不会跟你扯什么原理之类的东西，因为，我也不懂🌝。不过不懂原理没关系，我们只需要知道这玩意儿是什么就可以了。&lt;/p&gt;
&lt;p&gt;通常来讲，Sidechain是一项技术，&lt;strong&gt;一项用来调整音频音量的技术&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;怎么样？是不是很直白很简单？甚至有些简单过头了，就这？&lt;/p&gt;
&lt;p&gt;确实是这样，只不过这个音量调整。是&lt;strong&gt;完全自动&lt;/strong&gt;的。&lt;/p&gt;
&lt;p&gt;想必你们也没少听哪些大佬们说要用Sidechain要用Sidechain要用Sidechain，那...&lt;/p&gt;
&lt;h3 id=&quot;sidechain-1&quot;&gt;为什么要用Sidechain呢？&lt;/h3&gt;
&lt;p&gt;说到为什么要用，那就要说说编曲中需要频繁调整音量的场景了：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;人声：你想最大程度的保留人声音量的动态范围&lt;/li&gt;
&lt;li&gt;乐器：有些特殊乐器拥有非常广的音域，难免会和其他乐器产生频率上的重合&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在这种情况下，如果没有Sidechain只靠人力慢慢去调整是非常可怕的。而且后期一旦有任何曲调或结构上的改动，那些之前修改过的音量必须重新修改一遍，于是Sidechain出现了，接下来我们看看常用的Sidechain手法都有哪些吧！&lt;/p&gt;
&lt;h3 id=&quot;sidechain-2&quot;&gt;如何使用Sidechain？&lt;/h3&gt;
&lt;p&gt;从编曲角度出发，大概就是两种方式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用专门为快速Sidechain而开发VST插件，更简单&lt;/li&gt;
&lt;li&gt;使用压缩器，更灵活，但是压缩器需要有Sidechain功能&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;VST插件&lt;/p&gt;
&lt;p&gt;这里推荐几款比较好用的Sidechain工具&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://deviousmachines.com/duck/&quot;&gt;Duck&lt;/a&gt; - Devious Machines&lt;/p&gt;
&lt;p&gt;强推！算是我用过的插件中最强的一个，没有之一！&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://www.kickstart-plugin.com/&quot;&gt;KickStart&lt;/a&gt; - &lt;a href=&quot;https://www.cableguys.com/&quot;&gt;Cableguys&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;简单易用，但是可用场景非常有限。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;压缩器&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ableton live 11中自带的Compressor&lt;/li&gt;
&lt;li&gt;Arturia家的FET-76压缩器&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;大概就是这样，至于教程我会在下面贴上链接，毕竟别人已经讲过一遍了。&lt;/p&gt;
&lt;p&gt;祝大家编曲愉快！✌&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Duck - &lt;a href=&quot;https://www.youtube.com/watch?v=51LmTQZmjXo&quot;&gt;https://www.youtube.com/watch?v=51LmTQZmjXo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;KickStart - &lt;a href=&quot;https://www.youtube.com/watch?v=awNv4-0uU5o&quot;&gt;https://www.youtube.com/watch?v=awNv4-0uU5o&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Ableton Live stock compressor - &lt;a href=&quot;https://www.youtube.com/watch?v=9Zy-YvKWkv0&quot;&gt;https://www.youtube.com/watch?v=9Zy-YvKWkv0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Arturia FET-76 - &lt;a href=&quot;https://www.youtube.com/watch?v=yo6UOLkptEg&quot;&gt;https://www.youtube.com/watch?v=yo6UOLkptEg&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="混音" /><category term="编曲" /><summary type="html">如果你通过搜索引擎找到这篇博客，那说明你的脑子里起码有这样几个问题：</summary></entry><entry><title type="html">Ableton Live 11, 那些你不知道的小事情</title><link href="https://jw1.dev/2021/02/26/a01.html" rel="alternate" type="text/html" title="Ableton Live 11, 那些你不知道的小事情" /><published>2021-02-26T00:00:00+08:00</published><updated>2021-02-26T00:00:00+08:00</updated><id>https://jw1.dev/2021/02/26/a01</id><content type="html" xml:base="https://jw1.dev/2021/02/26/a01.html">&lt;p&gt;24号一大早就收到Ableton的邮件，Live 11经过了三个月的公测终于出了正式版，二话不说，直接从床上蹦起来去下载正式版安装包。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202102/image-20210226104829699.png&quot; alt=&quot;image-20210226104829699&quot; /&gt;&lt;/p&gt;
&lt;p&gt;第一次经历DAW的大版本更新还是有点激动的，感觉这次Live更新主要是针对MPE和录音优化(Comping)，而且还添加了几个非常不错的Device(音频插件)，可以说是诚意满满。除了官方说的这些优化，个人在实际使用中也发现了一些相比Live 10更加优秀的小细节。&lt;/p&gt;
&lt;h3 id=&quot;ui&quot;&gt;UI在缩放情况下造成的卡顿已经修复&lt;/h3&gt;
&lt;p&gt;这一点在我之前的博客中有提到，显然这一问题在新版本中得到了解决。&lt;/p&gt;
&lt;p&gt;&lt;video src=&quot;/p_assets/202102/1.mp4&quot; muted autoplay loop playsinline controls&gt;&lt;/video&gt;&lt;/p&gt;
&lt;h3 id=&quot;section&quot;&gt;性能提升&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;音频加载&lt;br /&gt;
在没有.asd文件的情况下，Live 11加载音频的速度明显要快很多&lt;br /&gt;
&lt;video src=&quot;/p_assets/202102/2.mp4&quot; muted autoplay loop playsinline controls&gt;&lt;/video&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;自带插件加载&lt;br /&gt;
在没有预加载的情况下，一些自带插件的加载速度明显快了不少，几乎就是瞬间加载完成&lt;br /&gt;
&lt;video src=&quot;/p_assets/202102/3.mp4&quot; muted autoplay loop playsinline controls&gt;&lt;/video&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;文件indexing速度提升&lt;br /&gt;
以前添加一个音效库Live都要扫描半天，更新后直接起飞&lt;br /&gt;
&lt;video src=&quot;/p_assets/202102/4.mp4&quot; muted autoplay loop playsinline controls&gt;&lt;/video&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;section-1&quot;&gt;用户体验&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;可以单独显示每轨占用的CPU资源&lt;br /&gt;
在Arrangement视图下点击右下角新增的&lt;code&gt;C&lt;/code&gt;字按钮即可显示&lt;br /&gt;
&lt;video src=&quot;/p_assets/202102/5.mp4&quot; muted autoplay loop playsinline controls&gt;&lt;/video&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Comping并不只是适用于音频，MIDI也一样可以用&lt;br /&gt;
&lt;video src=&quot;/p_assets/202102/6.mp4&quot; muted autoplay loop playsinline controls&gt;&lt;/video&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;section-2&quot;&gt;总结&lt;/h3&gt;
&lt;p&gt;以上仅仅是我使用三天后发现的小细节，在后续的使用中可能还会发现更多惊喜。&lt;/p&gt;
&lt;p&gt;Ableton Live作为我的主要音乐制作工具已经有两年了，不管是大更新还是小更新，每次似乎都能看到一堆bug fixes和优化，这次的大更新更是如此！&lt;/p&gt;
&lt;p&gt;(Ableton牛逼！&lt;/p&gt;</content><author><name></name></author><category term="编曲" /><category term="DAW" /><summary type="html">24号一大早就收到Ableton的邮件，Live 11经过了三个月的公测终于出了正式版，二话不说，直接从床上蹦起来去下载正式版安装包。</summary></entry><entry><title type="html">Trackspacer值得买吗？</title><link href="https://jw1.dev/2020/12/07/a01.html" rel="alternate" type="text/html" title="Trackspacer值得买吗？" /><published>2020-12-07T00:00:00+08:00</published><updated>2020-12-07T00:00:00+08:00</updated><id>https://jw1.dev/2020/12/07/a01</id><content type="html" xml:base="https://jw1.dev/2020/12/07/a01.html">&lt;p&gt;&lt;a href=&quot;https://www.wavesfactory.com/audio-plugins/trackspacer/&quot;&gt;Trackspacer&lt;/a&gt;是一个18年发布的VST插件，最近却突然爆火，几乎各大平台 (Splice, PluginBoutique, etc.) 都可以看到他的身影。那对于标题的提问，作者的想法是什么呢？答案如下：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;不值得。&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;section&quot;&gt;为什么不值得&lt;/h3&gt;
&lt;p&gt;Trackspacer从根本意义上来讲其实只是一个多频段EQ压缩器，Sidechain接收信号，然后根据信号对相应的EQ band进行音量变更。那么我们是不是可以用相同的原理，在Ableton live中自己做一个这样的工作流呢？&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;完全可以！而且可以做得更好！&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;ableton-livemultiband-eq-compressing&quot;&gt;在Ableton live中实现Multiband EQ compressing&lt;/h3&gt;
&lt;p&gt;原料：EQ 8, Compressor (是的。就这两样东西)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202012/image-20201207151047997.png&quot; alt=&quot;image-20201207151047997&quot; /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;同时选中 (&lt;code&gt;shift&lt;/code&gt; + 点击) 这两个插件，然后按下 &lt;code&gt;ctrl/cmd&lt;/code&gt; + &lt;code&gt;G&lt;/code&gt;合并为一组&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202012/image-20201207151319558.png&quot; alt=&quot;image-20201207151319558&quot; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;点开chain view和macro view&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202012/image-20201207151434426.png&quot; alt=&quot;image-20201207151434426&quot; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;选中Chain并使用&lt;code&gt;ctrl&lt;/code&gt; + &lt;code&gt;D&lt;/code&gt;复制出两个一样的chain出来，并&lt;code&gt;ctrl&lt;/code&gt; + &lt;code&gt;R&lt;/code&gt;更改名称&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202012/image-20201207151703841.png&quot; alt=&quot;image-20201207151703841&quot; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;到这一步，聪明的你可能已经猜出来我想要干嘛了吧。没错，我们用了三个chain把声音信号分为三份，这样就可以对每个chain单独进行处理了！&lt;/p&gt;
&lt;ol start=&quot;4&quot;&gt;
&lt;li&gt;
&lt;p&gt;单独设置每个chain可以经过的声音频段，这里我的设置是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Low: 10 - 300 hz&lt;/li&gt;
&lt;li&gt;Mid: 300 - 5000 hz&lt;/li&gt;
&lt;li&gt;High: 5000 - 22k hz&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;slope全部都是x4&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202012/image-20201207152108750.png&quot; alt=&quot;image-20201207152108750&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202012/image-20201207152330281.png&quot; alt=&quot;image-20201207152330281&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202012/image-20201207152527279.png&quot; alt=&quot;image-20201207152527279&quot; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;假设我们现在有这样一个工程：&lt;/p&gt;
&lt;p&gt;&lt;video src=&quot;/p_assets/202012/1.mp4&quot; controls&gt;&lt;/video&gt;&lt;/p&gt;
&lt;p&gt;通过spectrum大家应该可以看到1轨道和3轨道的&lt;code&gt;300 - 1000hz&lt;/code&gt;频段peak都比较大，我现在希望能在这两轨同时播放时突出1轨道的&lt;code&gt;300 - 1000hz&lt;/code&gt;，要怎么做呢？这个时候我们刚刚做的东西 (暂时就叫他multi FX吧) 就派上用场了：&lt;/p&gt;
&lt;p&gt;我们可以把multi FX加载到3轨道，然后调整相应的band宽度，因为Low chain已经在300hz的刻度了，所以我们不需要调整，主要看Mid chain和High chain。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202012/image-20201207154749449.png&quot; alt=&quot;image-20201207154749449&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202012/image-20201207154913603.png&quot; alt=&quot;image-20201207154913603&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mid: 300 - 1000 hz&lt;/li&gt;
&lt;li&gt;High: 1000 - 20k hz&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;然后进入Mid chain的compressor，打开Sidechain，选择1轨道，这里叫&lt;code&gt;bass high&lt;/code&gt;，现在按下播放键我们可以看到已经有信号传过来了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202012/image-20201207155140291.png&quot; alt=&quot;image-20201207155140291&quot; /&gt;&lt;/p&gt;
&lt;p&gt;最后，合理调整压缩器参数，我们就应该能看到如下效果：&lt;/p&gt;
&lt;p&gt;&lt;video src=&quot;/p_assets/202012/2.mp4&quot; controls&gt;&lt;/video&gt;&lt;/p&gt;
&lt;p&gt;可以看到1轨道响起的瞬间，3轨道的&lt;code&gt;300 - 1000 hz&lt;/code&gt;频段立马就下去了。&lt;/p&gt;
&lt;p&gt;看到了？你根本不需要花那59欧元，省着吃顿好的他不香吗？&lt;/p&gt;
&lt;h3 id=&quot;section-1&quot;&gt;那我每次需要这样的效果的时候都要经历这样繁琐的设置吗？&lt;/h3&gt;
&lt;p&gt;当然不，Ableton live可以让你保存FX rack，下次使用的时候直接像插件一样拖进轨道就可以了！&lt;/p&gt;
&lt;p&gt;不过在保存前，我们还需要再配置一番macro。是的，还记得之前我让你打开macro view吗，就是这个目的！&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202012/image-20201207160226926.png&quot; alt=&quot;image-20201207160226926&quot; /&gt;&lt;/p&gt;
&lt;p&gt;我们只需要map四个参数到两个knob上即可&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Low &amp;gt; EQ &amp;gt; LP 频率 ==&amp;gt;&amp;gt; Macro 1&lt;/li&gt;
&lt;li&gt;Mid &amp;gt; EQ &amp;gt; HP 频率 ==&amp;gt;&amp;gt; Macro 1&lt;/li&gt;
&lt;li&gt;Mid &amp;gt; EQ &amp;gt; LP 频率 ==&amp;gt;&amp;gt; Macro 2&lt;/li&gt;
&lt;li&gt;High &amp;gt; EQ &amp;gt; HP 频率 ==&amp;gt;&amp;gt; Macro 2&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;点击Map按钮开始操作&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202012/image-20201207160557311.png&quot; alt=&quot;image-20201207160557311&quot; /&gt;&lt;/p&gt;
&lt;p&gt;如果不会Map的小伙伴可以看一下下面的视频。&lt;/p&gt;
&lt;p&gt;&lt;video src=&quot;/p_assets/202012/3.mp4&quot; controls muted&gt;&lt;/video&gt;&lt;/p&gt;
&lt;p&gt;最后点击FX Rack右上角保存并取个名字方便识别，下次用的时候直接拖进轨道就可以了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202012/image-20201207161457758.png&quot; alt=&quot;image-20201207161457758&quot; /&gt;&lt;/p&gt;
&lt;p&gt;是的，我们直接造了一个多频段FX插件，你完全可以把压缩器替换成任何你想要的插件，也可以再复制一个FX rack，让他直接变成6-band FX插件，再复制一个，直接变成9-band FX插件，再复制一个，12-band FX，再复制一个，15-band FX，18-band FX ... 停！！！&lt;/p&gt;
&lt;p&gt;得，你想复制多少个就复制多少个吧！🤣&lt;/p&gt;
&lt;p&gt;祝各位编曲愉快！&lt;/p&gt;</content><author><name></name></author><category term="编曲" /><category term="FX" /><category term="MultiBand" /><category term="EQ" /><summary type="html">Trackspacer是一个18年发布的VST插件，最近却突然爆火，几乎各大平台 (Splice, PluginBoutique, etc.) 都可以看到他的身影。那对于标题的提问，作者的想法是什么呢？答案如下：</summary></entry><entry><title type="html">压缩器是什么？它在混音中有什么作用？</title><link href="https://jw1.dev/2020/09/15/a01.html" rel="alternate" type="text/html" title="压缩器是什么？它在混音中有什么作用？" /><published>2020-09-15T00:00:00+08:00</published><updated>2020-09-15T00:00:00+08:00</updated><id>https://jw1.dev/2020/09/15/a01</id><content type="html" xml:base="https://jw1.dev/2020/09/15/a01.html">&lt;div class=&quot;sugg-back&quot;&gt;
    &lt;strong&gt;看起来你正在使用RSS阅读器浏览本页面，通常情况下作者不会要求您去官网进行阅读，但是此页面包含一些自定义音频组件，为了得到更好的体验，请访问博客官网 https://jw1.dev 进行阅读。谢谢！&lt;/strong&gt;
&lt;/div&gt;
&lt;p&gt;刚开始搞音乐的时候，总是有朋友告诉我，“这段bass要加个压缩器”、“这人声要加个压缩器”...，好的，我加了，也调了些参数啊啥的，嗯。当时我的内心：&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;&lt;strong&gt;这不就声音变小了嘛&lt;/strong&gt;🤦‍♂️&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;当然了，那时候太年轻不懂事儿，现在几乎每首歌，每个轨道，我都会用压缩器，所以究竟什么是压缩器呢？这玩意儿到底有什么用呢？不着急，请看下面。&lt;/p&gt;
&lt;h3 id=&quot;section&quot;&gt;# 什么是压缩器&lt;/h3&gt;
&lt;p&gt;顾名思义，它&lt;strong&gt;压缩&lt;/strong&gt;你的声音。🌝&lt;/p&gt;
&lt;p&gt;上面的解释肯定是有点太简短了，你不一定能理解，因为确实，声音这东西太抽象了。我们可以先从压缩器的几个固有参数开始说起：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;threshold&lt;/code&gt; &lt;code&gt;ratio&lt;/code&gt; &lt;code&gt;attack&lt;/code&gt; &lt;code&gt;release&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202009/image-20200915095827695.png&quot; alt=&quot;image-20200915095827695&quot; /&gt;&lt;/p&gt;
&lt;p&gt;那翻译过来一定就是&lt;code&gt;阈值&lt;/code&gt; &lt;code&gt;比&lt;/code&gt; &lt;code&gt;攻击&lt;/code&gt; &lt;code&gt;释放&lt;/code&gt;，对，就是这样。&lt;/p&gt;
&lt;p&gt;开玩笑的哈，呐，声音信号进入压缩器时，阈值就像一只手，他会检测进入的信号强度是否超过它本身，如果超过了，这只手就会往下压，而压缩比则代表了这只手下压的温柔程度，&lt;code&gt;1:1&lt;/code&gt;的话是溺爱，&lt;code&gt;10:1&lt;/code&gt;那就是&lt;strong&gt;无情&lt;/strong&gt;，任何企图超越阈值的声音信号都会被压得死死的。这里的&lt;code&gt;attack&lt;/code&gt;也明显不是攻击的意思，它代表了阈值这只手下压的速度，也就是手速快慢与否，&lt;code&gt;release&lt;/code&gt;也是手速，只不过是手抬起来的速度。&lt;/p&gt;
&lt;p&gt;这么说你们应该差不多能懂了吧。&lt;/p&gt;
&lt;p&gt;不懂的话也可以，直接看图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202009/a01-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;attack&lt;/code&gt;和&lt;code&gt;release&lt;/code&gt;的值这里我都调得特别大，是为了能让你们看得更清楚，就我自己而言，实际使用中，几乎不会出现这种情况。&lt;/p&gt;
&lt;h3 id=&quot;section-1&quot;&gt;# 压缩器的作用&lt;/h3&gt;
&lt;p&gt;存在既合理，更何况压缩器这个东西，都快一个世纪了，还是有好多人在研究它。那究竟，这样一个效果器在混音中有什么样的实际应用呢？&lt;/p&gt;
&lt;h4 id=&quot;section-2&quot;&gt;# 人声&lt;/h4&gt;
&lt;p&gt;一首歌，如果想要引起听众的共鸣，必定少不了人声。然而，即使是非常专业的歌手，也不能保证在面对麦克风时能够稳定输出音量。从混音师的角度来看，人声音量不够稳定一定会对整个混音作品造成毁灭性的打击，为什么呢？&lt;/p&gt;
&lt;p&gt;有的地方声音太大，会盖过伴奏，有的地方声音太小，伴奏又会盖过人声。&lt;/p&gt;
&lt;p&gt;不过压缩器的出现完美的解决了这个问题。大家可以听一下下面这个demo：&lt;/p&gt;
&lt;p&gt;&lt;app-audio-diff :on=&quot;{src: &apos;/p_assets/202009/diff-1-Audio.mp3&apos;, text: &apos;没有压缩的人声&apos;}&quot; :off=&quot;{src: &apos;/p_assets/202009/diff-2-Audio.mp3&apos;, text: &apos;经过压缩的人声&apos;}&quot;&gt;&lt;/app-audio-diff&gt;&lt;/p&gt;
&lt;p&gt;原曲来自我的好朋友Wynes：&lt;a href=&quot;https://music.163.com/#/song?id=1416869953&quot;&gt;https://music.163.com/#/song?id=1416869953&lt;/a&gt;&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;可以感受到，经过压缩人声明显稳定了很多，从下图中更加可以看出，原本比较轻的人声被放大，而原本比较突兀的地方，也被压缩到了同等级别。这样的在混音中可以保持很好的稳定性，当然，前提是伴奏也要保持稳定。需要注意的是，歌手的换气声也被放大了，这里先埋个坑，以后再给大家详细讲一讲怎么处理人声。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202009/a01-2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h4 id=&quot;section-3&quot;&gt;# 鼓&lt;/h4&gt;
&lt;p&gt;压缩器在鼓的作用上与人声大致相同，小的声音变大，大的声音变小。&lt;/p&gt;
&lt;p&gt;&lt;app-audio-diff :on=&quot;{src: &apos;/p_assets/202009/drum-diff-2.mp3&apos;, text: &apos;未经压缩的鼓组&apos;}&quot; :off=&quot;{src: &apos;/p_assets/202009/drum-diff-1.mp3&apos;, text: &apos;经过压缩后的鼓组&apos;}&quot;&gt;&lt;/app-audio-diff&gt;&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;不过在鼓组上，压缩器的&lt;code&gt;attack&lt;/code&gt;和&lt;code&gt;release&lt;/code&gt;比较讲究。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202009/a01-3.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;p&gt;图片是上面两个鼓组音轨的对比，我们可以看到kick进来的瞬间，有压缩的振幅明显要比未压缩的振幅大，而之后的频谱振幅则没有太大变化。这是因为压缩器设置了合适的&lt;code&gt;attack&lt;/code&gt;，在kick信号刚进来时不进行压缩，也就是保留了瞬态，这样做的好处是能让鼓听起来更加有力！&lt;/p&gt;
&lt;p&gt;而适当的&lt;code&gt;release&lt;/code&gt;会让鼓组听起来更有弹性，太长或者太短都不行，最好是在下一个peak来临之前能够彻底release掉，也就是让压缩器回归初始状态。举个极端的例子，如果你设置了10秒的&lt;code&gt;release&lt;/code&gt;，kick和snare之间的间隔可能只有300毫秒，这样设置之后，阈值那只手永远也没办法抬起来，因为速度太慢了，刚抬起来一点点，下一个信号peak又来了，这样做只有一个意义——减小音量。&lt;/p&gt;
&lt;h4 id=&quot;sidechain&quot;&gt;# 侧链(Sidechain)&lt;/h4&gt;
&lt;p&gt;Sidechain，中文叫侧链，也可以叫旁链，老实说，第一次看到这个概念我也是：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202009/what.jpeg&quot; alt=&quot;黑人问号&quot; /&gt;&lt;/p&gt;
&lt;p&gt;关于这个概念以后我会专门写一篇博客详细阐述一下，现在我只能告诉你侧链这玩意儿的出现完全是个意外。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It may shock you to learn that the initial applications for sidechain compression in the 1930s were not directed at making French filter house. Rather, it started with a film audio engineer named Douglas Shearer, who needed a way to tame the sibilance (the hard “s” sounds) of dialogue recordings. Sidechaining was born when Shearer conceived of a compressor with a “side” signal chain (separate to the main trigger signal) with an EQ slapped on it – rather than evenly compressing the incoming signal, this “de-esser” would only be triggered when the specific sibilant sounds appeared.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;大家有兴趣可以看看Ableton的官方博客原文：&lt;a href=&quot;https://www.ableton.com/en/blog/sidechain-compression-part-1/&quot;&gt;https://www.ableton.com/en/blog/sidechain-compression-part-1/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202009/a01-4.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;p&gt;这是FL Studio的一张截图，(因为比较直观)，Sidechain其实就是把2号轨的声音信号，传送到1号轨，但是这个声音信号不会经过主轨(Master)，“旁” 路 “链” 接，大概是这个意思吧，所以这样，&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1号轨上的压缩器就可以针对2号轨的信号对1号轨自身信号做出一系列调整。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;大家请听示例：&lt;/p&gt;
&lt;p&gt;&lt;app-audio-diff :on=&quot;{src: &apos;/p_assets/202009/sc-diff-1.mp3&apos;, text: &apos;Bass没有侧链，和鼓组糊成一团&apos;}&quot; :off=&quot;{src: &apos;/p_assets/202009/sc-diff-2.mp3&apos;, text: &apos;Bass有侧链，可以清晰听到鼓组中的kick，snare和tom&apos;}&quot;&gt;&lt;/app-audio-diff&gt;&lt;/p&gt;
&lt;p&gt;从没有侧链的音频可以感受到，因为bass和kick都属于比较低频的声音，所以他俩打架了，让鼓组失去了爆发力。而有侧链的那段音频，我们可以很清晰的听到一系列频率较低的打击乐，我们用侧链让bass给kick主动让开了一条路。可以仔细听听bass solo的时候有侧链和没侧链的区别。&lt;/p&gt;
&lt;p&gt;&lt;app-audio-diff :on=&quot;{src: &apos;/p_assets/202009/bass-diff-1.mp3&apos;, text: &apos;Bass没有侧链&apos;}&quot; :off=&quot;{src: &apos;/p_assets/202009/bass-diff-2.mp3&apos;, text: &apos;Bass有侧链&apos;}&quot;&gt;&lt;/app-audio-diff&gt;&lt;/p&gt;
&lt;p&gt;当然了，为了区分明显，demo都比较极端，实际应用还是要看个人喜好或客户需求。在整体的混音作品里，我们可以使用侧链来突出任何你想要突出的元素，比如用人声的信号去侧链伴奏，让伴奏让开空间给人声，又比如在电子音乐中用lead去侧链chord/pad，等等等等。而这些全都离不开压缩器，这也是为什么压缩器在音乐制作业内备受关注的原因。&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;好了，今天就讲到这里，希望这篇文章对你有帮助！&lt;/p&gt;</content><author><name></name></author><category term="编曲" /><category term="FX" /><category term="压缩器" /><summary type="html">看起来你正在使用RSS阅读器浏览本页面，通常情况下作者不会要求您去官网进行阅读，但是此页面包含一些自定义音频组件，为了得到更好的体验，请访问博客官网 https://jw1.dev 进行阅读。谢谢！</summary></entry><entry><title type="html">ElementUI：那些官方文档里没有介绍的玩法，当然了，还有坑</title><link href="https://jw1.dev/2020/07/20/a02.html" rel="alternate" type="text/html" title="ElementUI：那些官方文档里没有介绍的玩法，当然了，还有坑" /><published>2020-07-20T00:00:00+08:00</published><updated>2020-07-20T00:00:00+08:00</updated><id>https://jw1.dev/2020/07/20/a02</id><content type="html" xml:base="https://jw1.dev/2020/07/20/a02.html">&lt;p&gt;“？？？”&lt;/p&gt;
&lt;p&gt;“卧槽？”&lt;/p&gt;
&lt;p&gt;”嗯？“&lt;/p&gt;
&lt;p&gt;是我，也是你，对不对？&lt;/p&gt;
&lt;p&gt;对于刚开始使用&lt;a href=&quot;https://element.eleme.io/#/zh-CN&quot;&gt;ElementUI&lt;/a&gt;的朋友们，我敢肯定 90%的你们反应都是上面那样。&lt;/p&gt;
&lt;p&gt;先来看看那些官网没有讲过的玩法&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Element，一套为开发者、设计师和产品经理准备的基于 Vue 2.0 的桌面端组件库&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;codeel-scrollbarcode&quot;&gt;1. &lt;code&gt;el-scrollbar&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202007/image-20200720172813301.png&quot; alt=&quot;image-20200720172813301&quot; /&gt;&lt;/p&gt;
&lt;p&gt;不说废话，看官网的滚动条，很强有没有！&lt;/p&gt;
&lt;p&gt;有的朋友要说了，就这？完全可以写样式控制的呀！&lt;/p&gt;
&lt;p&gt;是的你没说错！&lt;/p&gt;
&lt;p&gt;然而样式控制滚动条只能在使用 chromium 内核的浏览器上才能实现，简单来说就是，&lt;strong&gt;会导致用户体验不一致&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;一般 JS 库搞出来的虚拟滚动条又不如原生滚动条顺滑流畅而且极度不稳定。&lt;/p&gt;
&lt;p&gt;ElementUI 滚动条的新思路可以说是既保留了原生滚动条的流畅性，又保证了几个主流浏览器上样式的一致性。&lt;/p&gt;
&lt;p&gt;具体用法很简单：&lt;/p&gt;
&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;el-scrollbar&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;style=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;height:200px&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;your-content&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        blah blah blah
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/el-scrollbar&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;需要注意的就是&lt;code&gt;el-scrollbar&lt;/code&gt;标签或者父级元素必须要有 css: &lt;code&gt;height&lt;/code&gt;属性，不然滚动条出不来，&lt;code&gt;max-height&lt;/code&gt;是不管用的。&lt;/p&gt;
&lt;p&gt;至于原理，其实也很简单。只是在此之前我们都没有想到就是了：&lt;/p&gt;
&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;scroll-bar-wrap&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;style=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;overflow:hidden;width:100%&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;scroll-bar&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;style=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;height:100px;overflow-y: scroll&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;content&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;style=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;height:200px&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;获取页面滚动条的宽度&lt;/li&gt;
&lt;li&gt;&lt;code&gt;.scroll-bar&lt;/code&gt;的宽度设置为 100% + 滚动条宽度，这样多出去的宽度会被 scroll-bar-wrap 给挡住&lt;/li&gt;
&lt;li&gt;接下来创建虚拟滚动条以及 mount 事件啥的&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;由于滚动事件都是通过原生滚动条反馈出来的，所以使用感受上与原生无异。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;class-&quot;&gt;2. 表格中自定义行 Class 及选择框的开关&lt;/h3&gt;
&lt;p&gt;关于这块，文档里其实有列出来，但是没有 demo，而我又不是很喜欢看文档的那种（该打），所以摸黑摸了一段时间。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;需求：首先他是个多选表格，然后用户可以点击行末按钮移除该列，但并不是立马移除，而且让这一行变灰，移除按钮要变成&lt;code&gt;已移除&lt;/code&gt;文字，同时，前面的选择框也要变成不可选。&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;template&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;el-table&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;:data=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tableData&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;style=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;width: 100%&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;:row-class-name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;getRowClassName&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;el-table-column&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;selection&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;:selectable=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;getRowDisabled&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/el-table-column&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;el-table-column&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;prop=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;date&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;label=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;日期&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;width=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;180&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/el-table-column&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;el-table-column&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;prop=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;name&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;label=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;姓名&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;width=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;180&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/el-table-column&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;el-table-column&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;prop=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;address&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;label=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;地址&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/el-table-column&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;el-table-column&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;label=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;操作&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;template&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;slot-scope=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;scope&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;

                &lt;span class=&quot;nt&quot;&gt;&amp;lt;el-button&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;v-if=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;!scope.row.deleted&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;size=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;mini&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;danger&quot;&lt;/span&gt;
                &lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;click=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;handleDelete(scope.$index, scope.row)&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;移除&lt;span class=&quot;nt&quot;&gt;&amp;lt;/el-button&amp;gt;&lt;/span&gt;

                &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;v-else&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;已移除&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/template&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/el-table-column&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/el-table&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/template&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;script&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;tableData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;2016-05-02&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;王小虎&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;address&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;上海市普陀区金沙江路 1518 弄&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;deleted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;2016-05-04&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;王小虎&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;address&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;上海市普陀区金沙江路 1517 弄&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;deleted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;2016-05-01&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;王小虎&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;address&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;上海市普陀区金沙江路 1519 弄&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;deleted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;2016-05-03&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;王小虎&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;address&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;上海市普陀区金沙江路 1516 弄&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;deleted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}]&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;methods&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;getRowClassName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;deleted&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;getRowDisabled&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;handleDelete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_this&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;nx&quot;&gt;_this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tableData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleted&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;看起来很长一块代码，其实就三点需要注意一下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;el-table&lt;/code&gt;上加上&lt;code&gt;:row-class-name&lt;/code&gt;来注册一个改变行 class 的方法，这样的话，&lt;code&gt;tableData&lt;/code&gt;中&lt;code&gt;deleted&lt;/code&gt;一旦发生改变，行 class 也会相应跟着变化&lt;/li&gt;
&lt;li&gt;在选择列上加上&lt;code&gt;:selectable&lt;/code&gt;属性来注册一个改变选择状态的方法，&lt;code&gt;tableData&lt;/code&gt;中&lt;code&gt;deleted&lt;/code&gt;变成&lt;code&gt;false&lt;/code&gt;时，此属性的值也变成&lt;code&gt;false&lt;/code&gt;，这样这一行就不能被选中了。&lt;/li&gt;
&lt;li&gt;剩下就是按钮和文字的切换，这就不用我再多赘述了吧~&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;好的，接下来我们说&lt;/p&gt;
&lt;h3 id=&quot;section&quot;&gt;坑&lt;/h3&gt;
&lt;h2 id=&quot;section-1&quot;&gt;坑&lt;/h2&gt;
&lt;h1 id=&quot;section-2&quot;&gt;坑&lt;/h1&gt;
&lt;p&gt;是的，三个超大加粗的坑。&lt;/p&gt;
&lt;h3 id=&quot;codeel-scrollbarcode-1&quot;&gt;1. 还是&lt;code&gt;el-scrollbar&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;世上没有完美的东西，是的，又流畅又保持了一致性的滚动条组件也是有缺点的。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;它不支持&lt;code&gt;max-height&lt;/code&gt;属性，在一些特定场景上局限性非常大。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;没有集成到 ElementUI 自己的组件中去，如：固定表头、表列的表格中使用的还是浏览器自带的滚动条，对于有强迫症开发者/用户简直就是…抓狂&lt;/p&gt;
&lt;p&gt;只留给开发者两条路：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自己造轮子&lt;/li&gt;
&lt;li&gt;干脆不使用&lt;code&gt;el-scrollbar&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;稳定性有待优化，在目前项目使用中有小概率滚动条会出不来，具体原因没有去深究&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;codeel-popconfirmcode&quot;&gt;2. &lt;code&gt;el-popconfirm&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202007/image-20200720181336936.png&quot; alt=&quot;image-20200720181336936&quot; /&gt;&lt;/p&gt;
&lt;p&gt;文档中定义的两个按钮事件，在目前版本(2.13.2)中是无效的。(或者只是我不会用，欢迎大佬指正&lt;/p&gt;
&lt;h3 id=&quot;codeel-tablecode&quot;&gt;3. &lt;code&gt;el-table&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202007/image-20200720181527197.png&quot; alt=&quot;image-20200720181527197&quot; /&gt;&lt;/p&gt;
&lt;p&gt;可能是 reset CSS 中的写法不同导致的样式错乱，这个问题在有固定列且数据复杂的表格中非常容易复现。&lt;/p&gt;
&lt;p&gt;最后总结的话就是：&lt;/p&gt;
&lt;p&gt;如果你没有强迫症，对于这些小瑕疵持无所谓的态度，那我给你的建议是：直接上，不要犹豫！&lt;/p&gt;
&lt;p&gt;如果你是一个设计师兼前端程序员而且有重度强迫症不能忍受瑕疵，我的建议是：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;自己写样式&lt;/strong&gt;！&lt;/p&gt;
&lt;p&gt;如果领导坚持要用那你就说服他把上面那些缺点全都告诉他（嗯！&lt;/p&gt;</content><author><name></name></author><category term="ElementUI" /><category term="Vue" /><category term="前端工具" /><summary type="html">“？？？”</summary></entry><entry><title type="html">Github Pages常见问题一览</title><link href="https://jw1.dev/2020/07/07/a01.html" rel="alternate" type="text/html" title="Github Pages常见问题一览" /><published>2020-07-07T00:00:00+08:00</published><updated>2020-07-07T00:00:00+08:00</updated><id>https://jw1.dev/2020/07/07/a01</id><content type="html" xml:base="https://jw1.dev/2020/07/07/a01.html">&lt;p&gt;使用Github Pages作为我博客的host server已经有一段时间了，初期使用中遇到了不少问题，今天就来和你们分享一下。&lt;/p&gt;
&lt;h3 id=&quot;changes&quot;&gt;已经提交changes，但是没有立刻开始构建&lt;/h3&gt;
&lt;p&gt;根据Github的官方文档，第一次构建pages大概需要&lt;strong&gt;10分钟&lt;/strong&gt;，但是很多时候我们并不是第一次构建了，而且即使过了十分钟后，pages也还是没有开始构建，就很令人着急。后来在一个issue(惭愧，找不到页面了)下面找到了问题的答案：&lt;/p&gt;
&lt;p&gt;随便选择一个Github pages主题，即使你不使用Jekyll。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/202007/image-20200707100136926.png&quot; alt=&quot;image-20200707100136926&quot; /&gt;&lt;/p&gt;
&lt;p&gt;选择完成后会在你的根目录创建一个&lt;code&gt;_config.yml&lt;/code&gt;文件，这样以后每次提交都会立马开始自动构建了。不过理论上来说没有这个config文件也是可以构建的，只是不知道是github把构建优先级降低了还是概率性的忽略了。&lt;/p&gt;
&lt;h3 id=&quot;usernamegithubio&quot;&gt;配置好了自定义域名，但是username.github.io没有跳转到我设置的域名&lt;/h3&gt;
&lt;p&gt;这是因为你的repo名称没有设置为&lt;code&gt;username.github.io&lt;/code&gt;，是的，就是这么简单。而且不正确的repo名称还会影响你的其他pages：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;假设你创建另一个repo – &lt;code&gt;your_new_repo&lt;/code&gt;，并给它开启了pages，理论上来说可以直接访问&lt;code&gt;username.github.io/your_new_repo&lt;/code&gt;，但是如果你没有正确配置你的一级repo名称，这个url将会是404。解决方法也有，就是配置另一个域名。。。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;当然，只要你爱折腾，不改也无妨。&lt;/p&gt;</content><author><name></name></author><category term="Github Pages" /><summary type="html">使用Github Pages作为我博客的host server已经有一段时间了，初期使用中遇到了不少问题，今天就来和你们分享一下。</summary></entry><entry><title type="html">LNMP如何配置Gitlab的反向代理和HTTPS</title><link href="https://jw1.dev/2020/05/09/a01.html" rel="alternate" type="text/html" title="LNMP如何配置Gitlab的反向代理和HTTPS" /><published>2020-05-09T00:00:00+08:00</published><updated>2020-05-09T00:00:00+08:00</updated><id>https://jw1.dev/2020/05/09/a01</id><content type="html" xml:base="https://jw1.dev/2020/05/09/a01.html">&lt;p&gt;使用Gitlab CE版已经有一年多了，期间一直在使用&lt;code&gt;http://ip:port&lt;/code&gt;的方式来进行访问。很明显，缺点有二：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;没有使用https，安全性堪忧。&lt;/li&gt;
&lt;li&gt;没有使用域名，看起来并不专业...（&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;初期使用的时候并不是没有考虑过这两个问题，但是网上的教程大多都是直接nginx配置反向代理，且没有https，（且大部分都长得一样，(╬▔皿▔)凸），所以按照他们的教程来，没有一次是成功的... 后来也就放弃了配置域名和https...&lt;/p&gt;
&lt;p&gt;直到今天，决定再闯一次虎山，终于掌握了要点...啊~&lt;/p&gt;
&lt;h3 id=&quot;gitlab&quot;&gt;# 修改Gitlab配置文件&lt;/h3&gt;
&lt;p&gt;假设你已经拥有一台服务器，一个域名，且已经解析到你使用的服务器上，你的服务器已经装好gitlab，而且可以正常使用ip地址进行访问。&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# 使用vim编辑gitlab配置文件&lt;/span&gt;
vim /etc/gitlab/gitlab.rb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;如果你还不会使用vim可以看看我写的另一篇博客《&lt;a href=&quot;https://jw1.dev/2019/11/11/a01.html&quot;&gt;来自一个不喜欢用Vim的弱鸡程序员的Vim教程&lt;/a&gt;》。&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# 修改gitlab外部访问链接，也就是你想配置的域名&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# 这里假设你的外部域名为&lt;/span&gt;
external_url &lt;span class=&quot;s1&quot;&gt;&apos;https://git.aaa.com&apos;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;这里是修改gitlab监听的外部nginx端口，端口号随意，只要别占用一些重要端口就可以。&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# 使用`/`命令搜索 `nginx[&apos;listen_port&apos;]`&lt;/span&gt;
nginx[&lt;span class=&quot;s1&quot;&gt;&apos;listen_port&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 8118
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;然后&lt;code&gt;:wq&lt;/code&gt;保存并退出&lt;/p&gt;
&lt;p&gt;重新配置gitlab，然后重启gitlab服务&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gitlab-ctl reconfigure
gitlab-ctl restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h3 id=&quot;lnmphttps&quot;&gt;# 使用lnmp配置https&lt;/h3&gt;
&lt;p&gt;我这里lnmp版本为1.5。&lt;/p&gt;
&lt;p&gt;至于怎么用lnmp配置https，网上教程已经满天飞了，我就不多废话了...&lt;/p&gt;
&lt;p&gt;不过还是提两句：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;最好的教程：官网 --&amp;gt; https://lnmp.org/install.html&lt;/li&gt;
&lt;li&gt;如果ssl配置的时候验证不成功，首先确认一下你的服务器80端口是否可以访问&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;lnmpnginx-vhost&quot;&gt;# 编辑lnmp中的Nginx Vhost配置文件以进行反向代理&lt;/h3&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# 进入到这个文件夹，你应该就能看到所有的lnmp域名配置文件&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /usr/local/nginx/conf/vhost
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# 修改你的git域名配置&lt;/span&gt;
vim git.aaa.com.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;你看到的格式应该如下：&lt;/p&gt;
&lt;div class=&quot;language-nginx highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;server&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# listen [::]:80;&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt;
    
    	&lt;span class=&quot;c1&quot;&gt;# 可以在监听80端口这里添加一句，这样http就会自动跳转到https&lt;/span&gt;
    	&lt;span class=&quot;kn&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;301&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$host$request_uri&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    
        &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;language-nginx highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# 在文件头部添加本地git服务信息&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;upstream&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;localhost&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8118&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;server&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;...&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;好了，80端口的部分不用管，我们主要看443部分，也就是https部分&lt;/p&gt;
&lt;p&gt;server里上面部分不用动，下面的location先全部删除&lt;/p&gt;
&lt;div class=&quot;language-nginx highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;server&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;443&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;ssl&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;server_name&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;git.jacky97.top&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;ssl_certificate&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;ssl_certificate_key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;ssl_session_timeout&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;ssl_protocols&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;ssl_prefer_server_ciphers&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;ssl_ciphers&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;ssl_session_cache&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;ssl_dhparam&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;rewrite/other&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;.conf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;enable-php.conf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    
    	&lt;span class=&quot;c1&quot;&gt;# ====== 重点 ======&lt;/span&gt;
    	&lt;span class=&quot;c1&quot;&gt;# 这里就照抄网上的教程了&lt;/span&gt;
    	&lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;kn&quot;&gt;client_max_body_size&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;512m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;kn&quot;&gt;proxy_redirect&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;off&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Host&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$host&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;X-Real-IP&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$remote_addr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;X-Forwarded-For&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        
            &lt;span class=&quot;c1&quot;&gt;# 不一样的是这里设置一下缓存，不然会出现400错误&lt;/span&gt;
        	&lt;span class=&quot;kn&quot;&gt;proxy_buffer_size&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;64k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;kn&quot;&gt;proxy_buffers&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;32k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;kn&quot;&gt;proxy_busy_buffers_size&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;128k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
			
        	&lt;span class=&quot;c1&quot;&gt;# 这里设置成你服务器gitlab的访问路径和刚刚设置的端口&lt;/span&gt;
            &lt;span class=&quot;kn&quot;&gt;proxy_pass&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://localhost:8118&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;kn&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.html&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.htm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h3 id=&quot;http-502&quot;&gt;# 如果出现http 502错误怎么办&lt;/h3&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# 进入/var/log文件夹&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /var/log
&lt;span class=&quot;c&quot;&gt;# 将gitlab文件夹的权限设置为775&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; 775 gitlab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h3 id=&quot;web-ide&quot;&gt;# Web IDE打不开怎么办&lt;/h3&gt;
&lt;p&gt;一般是出现&lt;code&gt;Mixed Context&lt;/code&gt;错误 —— https站引用了http资源。解决方法也很简单：&lt;/p&gt;
&lt;p&gt;确认一下你的gitlab配置文件中外部链接是&lt;code&gt;HTTPS&lt;/code&gt;开头，且gitlab自带的监听https是关闭状态。&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;external_url &lt;span class=&quot;s1&quot;&gt;&apos;https://git.aaa.com&apos;&lt;/span&gt;

nginx[&lt;span class=&quot;s1&quot;&gt;&apos;listen_https&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;完成后，重新配置、重启gitlab和lnmp，再设置一遍log文件的权限&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gitlab-ctl reconfigure
gitlab-ctl restart
lnmp restart
&lt;span class=&quot;nb&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; 775 /var/log/gitlab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;现在你就可以用&lt;code&gt;https://git.aaa.com&lt;/code&gt;来访问你的gitlab了！如果有任何问题，欢迎下面的评论区域告诉我！&lt;/p&gt;</content><author><name></name></author><category term="Gitlab" /><category term="Nginx" /><category term="HTTPS" /><category term="LNMP" /><summary type="html">使用Gitlab CE版已经有一年多了，期间一直在使用http://ip:port的方式来进行访问。很明显，缺点有二：</summary></entry><entry><title type="html">在本地/服务器部署less.js</title><link href="https://jw1.dev/2020/03/04/a01.html" rel="alternate" type="text/html" title="在本地/服务器部署less.js" /><published>2020-03-04T00:00:00+08:00</published><updated>2020-03-04T00:00:00+08:00</updated><id>https://jw1.dev/2020/03/04/a01</id><content type="html" xml:base="https://jw1.dev/2020/03/04/a01.html">&lt;p&gt;&lt;a href=&quot;http://lesscss.org/&quot;&gt;Less&lt;/a&gt;这个项目在我刚开始学习前端的时候就已经有所耳闻了，直到今天才有了在项目中一展拳脚的机会。之前做demo的时候一直是在html中引入less.min.js来使用的，但是很快就发现一个问题：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;不兼容IE浏览器&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;是的，IE 11都报错，更别提低版本的了。好在less有命令行版本，它能够让你使用less.js将less文件转换为css文件。这样在项目中，你引用的其实还是原始的css文件，这样就不存在兼容问题了。&lt;/p&gt;
&lt;h4 id=&quot;less&quot;&gt;# less命令行的安装和使用&lt;/h4&gt;
&lt;p&gt;如果你的电脑上装了npm，那么事情将会变得简单得多：&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;npm &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;less &lt;span class=&quot;nt&quot;&gt;-g&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;只需要一个命令就可以安装，less命令行的运行依赖nodejs环境，如果你还没有安装nodejs，可以在它的&lt;a href=&quot;https://nodejs.org/zh-cn/&quot;&gt;官网&lt;/a&gt;下载安装。&lt;/p&gt;
&lt;p&gt;less的安装完成了，使用的话也很简单：&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;lessc main.less main.css
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;以上命令将会把&lt;code&gt;main.less&lt;/code&gt;直接转换成&lt;code&gt;main.css&lt;/code&gt;。&lt;/p&gt;
&lt;h4 id=&quot;lesscss&quot;&gt;# less到css的自动转换&lt;/h4&gt;
&lt;p&gt;转换是完成了，可是又出现一个问题，我们知道，css这种东西是需要不断的调试的。现有的机制下，每保存一下less，就要去CMD里面转换一下，这样无疑降低了我们的工作效率，要是能在保存的时候自动转换css就好了。&lt;/p&gt;
&lt;p&gt;万能的&lt;a href=&quot;https://github.com/&quot;&gt;G站&lt;/a&gt;啊，我搜了一下，还真有：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/jonycheung/deadsimple-less-watch-compiler&quot;&gt;deadsimple-less-watch-compiler&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;还是npm：&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;npm &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-g&lt;/span&gt; less-watch-compiler
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;或者yarn：&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;yarn global add less-watch-compiler
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;假设你的文件系统如下：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; root 
 └──less
 │    └── main.less
 │    └── skin.less
 └──css
      └── main.css
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;那么具体的使用方法如下：&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;less-watch-compiler less css
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;这样保存less文件后这个插件就会自动构建css，速度也是非常的快，可以同时检测多个less文件，如果只需要监测一个less文件的话，在上面的命令行后面加上该less文件的文件名就可以了：&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;less-watch-compiler less css main.less
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;搞定！&lt;/p&gt;</content><author><name></name></author><category term="less.js" /><category term="服务器" /><category term="本地" /><category term="部署" /><summary type="html">Less这个项目在我刚开始学习前端的时候就已经有所耳闻了，直到今天才有了在项目中一展拳脚的机会。之前做demo的时候一直是在html中引入less.min.js来使用的，但是很快就发现一个问题：</summary></entry><entry><title type="html">Ableton Live 10中的坑</title><link href="https://jw1.dev/2019/12/18/a01.html" rel="alternate" type="text/html" title="Ableton Live 10中的坑" /><published>2019-12-18T00:00:00+08:00</published><updated>2019-12-18T00:00:00+08:00</updated><id>https://jw1.dev/2019/12/18/a01</id><content type="html" xml:base="https://jw1.dev/2019/12/18/a01.html">&lt;p&gt;去年双十一趁着活动购入了Ableton Live 10，毕竟是享誉世界的DAW，质量过硬，但是在使用过程中也发现了一些坑。问题不大，不过值得注意一下。&lt;/p&gt;
&lt;h4 id=&quot;section&quot;&gt;在缩放的情况下性能有所损失&lt;/h4&gt;
&lt;p&gt;这个情况是我在无意间发现的，因为自己是13英寸的笔记本电脑，所以一直以来Ableton Live都用了125%的缩放，后来有一天重设回100%后操作了一下，发现FPS明显上去了，测试后发现：Ableton Live在缩放数值不是100%或200%的情况下，CPU使用率上升了25%，FPS也会掉到30赫兹左右。我能理解缩放的情况下需要重新计算布局什么的，但是25%实在是有点太多了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/201912/image-20191218110259754.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h4 id=&quot;panning&quot;&gt;轨道中的Panning&lt;/h4&gt;
&lt;p&gt;这个问题一直以来都没有注意过，直到最近看了一个油管视频，里面有提到：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/201912/image-20191218110444995.png&quot; alt=&quot;image-20191218110444995&quot; /&gt;&lt;/p&gt;
&lt;p&gt;图中Ableton Live所标示的Track Pan的旋钮，它的作用其实并不是真正的调节左右音频信号的方向，而只是一个平衡旋钮而已，也就是说，他只能调节左右声道的音量。看了视频的我甚至还不相信，自己又做了一遍测试。&lt;/p&gt;
&lt;p&gt;先把声音信号全部放到左边，再去往右调Track panning，如果声音彻底没有了，那就说明左边的信号并没有到右边去。&lt;/p&gt;
&lt;p&gt;&lt;video controls src=&quot;/p_assets/201912/record.mp4&quot; poster=&quot;/p_assets/201912/record_poster.jpg&quot;&gt;&lt;/video&gt;
今天才知道，被骗了这么久...心痛啊&lt;/p&gt;
&lt;p&gt;那话说回来，有没有解决方案呢？肯定是有的！可以像我一样使用panning的插件，上面视频中出现的是SoundSpot的&lt;a href=&quot;https://www.soundspot.audio/downloads/propane-mid-side-panning-audio-plugin/&quot;&gt;Propane&lt;/a&gt;，目前只卖2.95英镑，估计后面会回到19英镑的价格。&lt;/p&gt;
&lt;p&gt;除了插件的方法其实Ableton Live自身也可以做到，而且也很简单：&lt;/p&gt;
&lt;p&gt;&lt;video controls src=&quot;/p_assets/201912/record_2.mp4&quot; poster=&quot;/p_assets/201912/record_2_poster.jpg&quot;&gt;&lt;/video&gt;
只需要在Track Pan的旋钮上右击鼠标，选中&lt;code&gt;Select Split Stereo Pan Mode&lt;/code&gt;，这样左边的信号就可以被转换到右边去了。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;好了，暂时就是这两个有一点点困扰我的问题，溜了！&lt;/p&gt;
&lt;p&gt;😁&lt;/p&gt;</content><author><name></name></author><category term="DAW" /><category term="Ableton Live" /><category term="编曲" /><summary type="html">去年双十一趁着活动购入了Ableton Live 10，毕竟是享誉世界的DAW，质量过硬，但是在使用过程中也发现了一些坑。问题不大，不过值得注意一下。 在缩放的情况下性能有所损失 这个情况是我在无意间发现的，因为自己是13英寸的笔记本电脑，所以一直以来Ableton Live都用了125%的缩放，后来有一天重设回100%后操作了一下，发现FPS明显上去了，测试后发现：Ableton Live在缩放数值不是100%或200%的情况下，CPU使用率上升了25%，FPS也会掉到30赫兹左右。我能理解缩放的情况下需要重新计算布局什么的，但是25%实在是有点太多了。</summary></entry><entry><title type="html">如何加快VS Code的启动以及运行速度</title><link href="https://jw1.dev/2019/11/14/a02.html" rel="alternate" type="text/html" title="如何加快VS Code的启动以及运行速度" /><published>2019-11-14T00:00:00+08:00</published><updated>2019-11-14T00:00:00+08:00</updated><id>https://jw1.dev/2019/11/14/a02</id><content type="html" xml:base="https://jw1.dev/2019/11/14/a02.html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Visual Studio Code&lt;/strong&gt;（简称&lt;strong&gt;VS Code&lt;/strong&gt;）是一个由微软开发，同时支持Windows 、 Linux和macOS等操作系統且开放源代码的程式碼编辑器[4]，它支持測試，并内置了Git 版本控制功能，同时也具有开发环境功能，例如代码补全（类似于 IntelliSense）、代码片段和代码重构等，该编辑器支持用户個性化配置，例如改变主题颜色、键盘快捷方式等各种属性和参数，同时还在编辑器中内置了扩展程序管理的功能。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;2015年，VS Code发布了他的第一个版本，渐渐的，这个刚出世不久的代码编辑器就占领了大半江山。它的优点不计其数，各大论坛讲的天花乱坠，但也不是吹，VS Code确实有很多优点，&lt;strong&gt;但是&lt;/strong&gt;，缺点也很明显：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;基于Electron&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;为什么说基于Electron是他的缺点呢，对于一些电脑比较好的程序员来讲，可能感受不到，但是如果你的电脑是低压CPU，机械硬盘，内存也不大，你就能感觉到了——很卡，特别卡，尤其使用了一段时间之后，打开速度几乎和IDE无异。但是有时候你可能只是想用来编辑一个小文件，或者突然有了灵感，想记录下来，那么VS Code那接近半分钟的启动速度明显不是你想要的。今天就来教大家怎么加快VS Code的启动和优化它的运行速度。&lt;/p&gt;
&lt;p&gt;首先进入VS Code，按下&lt;code&gt;ctrl/cmd&lt;/code&gt; +&lt;code&gt;,&lt;/code&gt;进入设置，然后点击设置界面右上角的小图标，打开&lt;code&gt;settings.json&lt;/code&gt;；&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/201911/image-20191114135952765.png&quot; alt=&quot;image-20191114135952765&quot; /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;关闭小地图或者关闭小地图的渲染真实字符&lt;/p&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;不渲染真实字符&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;editor.minimap.renderCharacters&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;关闭小地图&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;editor.minimap.enabled&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;关闭动画&lt;/p&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;关闭平滑滚动&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;editor.smoothScrolling&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;关闭光标平滑滚动&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;editor.cursorSmoothCaretAnimation&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;缩进提示&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;如果您是初级程序员，建议保留。&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nl&quot;&gt;&quot;editor.renderIndentGuides&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;关闭自动高亮&lt;/p&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;单击在某一字符串上的自动匹配高亮&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;editor.occurrencesHighlight&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选中在某一字符串上的自动匹配高亮&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;editor.selectionHighlight&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;鼠标hover时的弹窗&lt;/p&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nl&quot;&gt;&quot;editor.hover.enabled&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nl&quot;&gt;&quot;editor.hover.sticky&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;关闭代码大纲（面包屑&lt;/p&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nl&quot;&gt;&quot;breadcrumbs.enabled&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;关闭颜色预览&lt;/p&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nl&quot;&gt;&quot;editor.colorDecorators&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;以上7步如果全部做完，你的VS Code相对以前会快很多，如果想要更快，你还可以再添加以下配置：&lt;/p&gt;
&lt;ol start=&quot;8&quot;&gt;
&lt;li&gt;
&lt;p&gt;括号配对高亮&lt;/p&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nl&quot;&gt;&quot;editor.matchBrackets&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;当前行高亮&lt;/p&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nl&quot;&gt;&quot;editor.renderLineHighlight&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;none&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;关闭链接的渲染&lt;/p&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nl&quot;&gt;&quot;editor.links&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;好了，以上就是我用VS Code一年多总结出来的经验，希望这篇文章有帮到你们！&lt;/p&gt;
&lt;p&gt;Happy coding!&lt;/p&gt;
&lt;p&gt;✌&lt;/p&gt;</content><author><name></name></author><category term="VS Code" /><category term="代码编辑器" /><summary type="html">Visual Studio Code（简称VS Code）是一个由微软开发，同时支持Windows 、 Linux和macOS等操作系統且开放源代码的程式碼编辑器[4]，它支持測試，并内置了Git 版本控制功能，同时也具有开发环境功能，例如代码补全（类似于 IntelliSense）、代码片段和代码重构等，该编辑器支持用户個性化配置，例如改变主题颜色、键盘快捷方式等各种属性和参数，同时还在编辑器中内置了扩展程序管理的功能。</summary></entry><entry><title type="html">来自一个不喜欢用Vim的弱鸡程序员的Vim教程</title><link href="https://jw1.dev/2019/11/11/a01.html" rel="alternate" type="text/html" title="来自一个不喜欢用Vim的弱鸡程序员的Vim教程" /><published>2019-11-11T00:00:00+08:00</published><updated>2019-11-11T00:00:00+08:00</updated><id>https://jw1.dev/2019/11/11/a01</id><content type="html" xml:base="https://jw1.dev/2019/11/11/a01.html">&lt;p&gt;在网上看过一个笑话：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;问：如何生成一个随机字符串？&lt;/p&gt;
&lt;p&gt;答：让新手退出vim&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;用过Vim的人肯定一眼就能Get到笑点，因为Vim的反人类设计，你需要在键盘上打出&lt;code&gt;:q&lt;/code&gt;才能退出。但是作为一个老牌的文本编辑器，其地位在很多程序员心中的地位是不可撼动的，很多Linux 发行版也都是自带Vim，用来临时修改一下服务器上的文件非常方便。&lt;/p&gt;
&lt;p&gt;因为第一次也遇到了进入Vim退不出去的尴尬情景，我决定去谷歌一下Vim怎么用，看到某大牛写的Vim教程我是懵逼的，因为真的太多东西要学了，一张网页，上万px的高度，几乎键盘上每一个按键都有它的作用，大小写不一样，作用也不一样，还有组合键和命令。即使到现在，我也只记得大约5%的快捷键和命令。但是我觉得如果你只是用来编辑一些简单的文件，比如HTML里面改个标签，CSS里面改个高度这种小活，5%可以说是非常够了。&lt;/p&gt;
&lt;p&gt;在终端打出&lt;code&gt;vim&lt;/code&gt;然后回车，来看一下他的界面吧：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/201911/vim.png&quot; alt=&quot;image-20191111174728567&quot; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;问：作为一个程序员，你最喜欢的代码编辑器是什么？&lt;/p&gt;
&lt;p&gt;答：乌干达&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;界面很简洁，但是其反人类的设计，会让你有点不相信打&lt;code&gt;:help&lt;/code&gt;能出帮助文档。&lt;/p&gt;
&lt;p&gt;Vim有五种模式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;正常模式&lt;/li&gt;
&lt;li&gt;插入模式&lt;/li&gt;
&lt;li&gt;命令模式&lt;/li&gt;
&lt;li&gt;视图模式&lt;/li&gt;
&lt;li&gt;Ex模式 (~~前女友模式~~)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;作为初学者，你可能并不明白为什么Vim要设计“模式”这种东西，时间一长你就会发现：你还是不懂；but whatever&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;正常模式&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;刚进入vim的界面就是正常模式。从技术上来讲，所有的按键在这个模式下都是快捷键。(雾&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;插入模式&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在插入模式下，Vim的表现和Windows的记事本一样，yeah that&apos;s how you can type...so&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;命令模式&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在正常模式按下&lt;code&gt;:&lt;/code&gt;就可以进入命令模式。&lt;/p&gt;
&lt;p&gt;按下&lt;code&gt;Enter&lt;/code&gt;执行命令，执行完命令后，Vim会默认回到正常模式，如果没有也同样可以按下&lt;code&gt;esc&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;视图模式&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在这个模式下，移动光标会选中文字，很像鼠标操作。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ex模式&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Wikipedia:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;这和命令行模式比较相似，在使用&amp;quot;:visual&amp;quot;命令离开Ex模式前，可以一次执行多条命令。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;反正我是没看懂...&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;Yeah all the crap you just said, I still don&apos;t know how to type in this fucking thing!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;不说废话了，其实想要快乐的和Vim玩耍，只需要记住以下几条：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;命令&lt;code&gt;vim test.html&lt;/code&gt;打开该文件进行编辑，如果没有该文件，在保存后，Vim会新建该文件。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果你想打字的话，在正常模式按下&lt;code&gt;i&lt;/code&gt;键就可以进入♂插入模式&lt;code&gt;Insert Mode&lt;/code&gt; ，在插入模式下才能打字&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果你想保存文件就按下&lt;code&gt;:w&lt;/code&gt;，强制保存是&lt;code&gt;:w!&lt;/code&gt;，保存并退出 &lt;code&gt;:wq&lt;/code&gt;，强制保存退出&lt;code&gt;:wq!&lt;/code&gt;，强制退出&lt;code&gt;:q!&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;撤销修改是在正常模式按下&lt;code&gt;u&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;重做是在正常模式按下&lt;code&gt;ctrl&lt;/code&gt;+&lt;code&gt;r&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;跳到具体的某一行可以在正常模式下按下&lt;code&gt;:&lt;/code&gt;进入命令模式，后面跟上你想要定位到的行号 &lt;code&gt;:12138&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;查找是在正常模式下按下&lt;code&gt;/&lt;/code&gt;，后面跟上你想要查找的字符&lt;code&gt;/myFunktion&lt;/code&gt;，按下&lt;code&gt;Enter&lt;/code&gt;会进入第一个查找结果，按下&lt;code&gt;n&lt;/code&gt;显示下一条搜索结果，按下&lt;code&gt;N&lt;/code&gt;显示上一条搜索结果。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;全局替换是&lt;code&gt;:%s/youSearchText/yourReplacement&lt;/code&gt;，如果想在每次替换时需要确认可以在命令后面加上&lt;code&gt;/c&lt;/code&gt;，于是就变成了&lt;code&gt;:%s/youSearchText/yourReplacement/c&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;以上。&lt;/p&gt;
&lt;p&gt;说是教程，其实更像是一个导览？如果你对Vim真的特别感兴趣，可以去看看这些比较详尽的文档：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;简明 Vim 练级攻略 &lt;a href=&quot;https://coolshell.cn/articles/5426.html&quot;&gt;https://coolshell.cn/articles/5426.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Vim 从入门到精通 &lt;a href=&quot;https://github.com/wsdjeg/vim-galore-zh_cn&quot;&gt;https://github.com/wsdjeg/vim-galore-zh_cn&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;✌&lt;/p&gt;</content><author><name></name></author><category term="Vim" /><category term="代码编辑器" /><summary type="html">在网上看过一个笑话：</summary></entry><entry><title type="html">使用JavaScript达成 background-size: cover 的效果</title><link href="https://jw1.dev/2019/10/28/a03.html" rel="alternate" type="text/html" title="使用JavaScript达成 background-size: cover 的效果" /><published>2019-10-28T00:00:00+08:00</published><updated>2019-10-28T00:00:00+08:00</updated><id>https://jw1.dev/2019/10/28/a03</id><content type="html" xml:base="https://jw1.dev/2019/10/28/a03.html">&lt;p&gt;最近有一个项目，领导要求：要让一个&lt;strong&gt;视频&lt;/strong&gt;在&lt;strong&gt;一屏显示&lt;/strong&gt;的情况下&lt;strong&gt;不能改变宽高比&lt;/strong&gt; and &lt;strong&gt;适配各种分辨率&lt;/strong&gt; and &lt;strong&gt;兼容到IE 7&lt;/strong&gt;。嘶~，有点棘手，对于要兼容到IE 7的项目，写CSS简直头疼。&lt;/p&gt;
&lt;p&gt;不过不是我做（欸嘿），别人也没做出来，我也没站出来（面子最重要），于是领导不得不放低要求，当然这都是后话了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/201910/zhazha.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;p&gt;后来想，如果我来做的话，我会怎么做？对于领导的要求，我脑子里第一个闪过的就是&lt;code&gt;background-size: cover&lt;/code&gt;这个玩意儿，但是第一，这个是CSS 3的属性，IE 8就歇菜了，更别说IE 7了，第二，这个属性只对图片有用......&lt;/p&gt;
&lt;p&gt;那能不能用js来模拟呢？&lt;/p&gt;
&lt;p&gt;说干就干，当下就开始研究&lt;code&gt;cover&lt;/code&gt;属性是怎么工作的，最后结论是：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cover&lt;/code&gt;在正常情况下，只是单纯的将图片宽度放到与容器一样宽，在缩放过程中，&lt;strong&gt;当图片高度小于容器高度时&lt;/strong&gt;，&lt;strong&gt;会根据原始图片的宽高比(ratio)来放大图片宽度&lt;/strong&gt;，使原始图片始终撑满容器。&lt;/p&gt;
&lt;p&gt;听起来有点绕，直接上代码：&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;kkkover&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;init&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;onresize&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resized&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;onload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ratio&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientHeight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientWidth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;calcStyle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ratio&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientHeight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientWidth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;calcStyle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;calcStyle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wrapCell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;relative&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;absolute&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;top&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;50%&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;zIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;50%&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;100%&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;marginLeft&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;marginTop&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientHeight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientHeight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wrapCell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientHeight&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;maxWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;none&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wrapCell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientHeight&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wrapCell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientHeight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ratio&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;marginTop&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientHeight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;marginLeft&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wrapCell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientWidth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;100%&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;auto&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;marginLeft&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientWidth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;marginTop&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clientHeight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resized&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;calcStyle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;app&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;kkkover&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;wp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prototype&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;__proto__&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;wp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;kkkover&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;使用的话大概就是这样：&lt;/p&gt;
&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;img&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;path/to/img&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;test_img&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;kkkover&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;wrapCell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 传入容器&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;test_img&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 传入容器中的图片&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;可以在这里看一下&lt;a href=&quot;/p_assets/201910/a03_demo/&quot;&gt;演示&lt;/a&gt;。代码已经测试，可以兼容到IE 7。&lt;/p&gt;
&lt;p&gt;对于视频也是一样的用法，&lt;code&gt;img&lt;/code&gt;传视频元素就可以了。&lt;/p&gt;
&lt;p&gt;✌&lt;/p&gt;</content><author><name></name></author><category term="JavaScript" /><category term="CSS" /><category term="IE" /><category term="兼容" /><summary type="html">最近有一个项目，领导要求：要让一个视频在一屏显示的情况下不能改变宽高比 and 适配各种分辨率 and 兼容到IE 7。嘶~，有点棘手，对于要兼容到IE 7的项目，写CSS简直头疼。</summary></entry><entry><title type="html">职业生涯分享</title><link href="https://jw1.dev/2019/10/25/a02.html" rel="alternate" type="text/html" title="职业生涯分享" /><published>2019-10-25T00:00:00+08:00</published><updated>2019-10-25T00:00:00+08:00</updated><id>https://jw1.dev/2019/10/25/a02</id><content type="html" xml:base="https://jw1.dev/2019/10/25/a02.html">&lt;p&gt;一转眼，做前端也有三年多了。今天不想写代码，就想说一说我的职业生涯。&lt;/p&gt;
&lt;h4 id=&quot;section&quot;&gt;2014年6月，一切的开始&lt;/h4&gt;
&lt;p&gt;17岁，大部分同龄人还在读高二的年纪，我却已经走上了实习岗位（并不自豪），第一份工作是上汽旗下的A车站当技术员。说白了就是修车，不过说是修车，其实呢，是拿着￥1390/月的工资，洗了八个月的车。辞职那天，有点小雨，在去地铁站的路上一直在想，这就是以后我的工作吗？这样的工作我真的能坚守并热爱下去吗？&lt;/p&gt;
&lt;p&gt;在家闲了两个星期后，我妈决定让我先随便找一份工作。于是在申通找了个仓库管理的工作，每天的工作大概就是搬东西，清点货品，爬货架，和同事唠嗑。总之，忙起来非人类，闲起来特无聊。大概做了一个月后，收到奶奶病重的消息，于是又辞职了，拿着两千多块钱回老家了。&lt;/p&gt;
&lt;p&gt;奶奶在2015年5月去世，办完丧事后回到上海，偶然间看到&lt;em&gt;华育国际&lt;/em&gt; *的PHP培训广告。于是说服父母，打算转行做程序员。&lt;/p&gt;
&lt;h4 id=&quot;php&quot;&gt;2015年6月，开始学习PHP&lt;/h4&gt;
&lt;p&gt;在讲师放了一堆PPT和视频之后，我就觉得，“哇，这简直就是我梦寐以求的工作！”&lt;/p&gt;
&lt;p&gt;然后，现实他就给了我一耳光。我发现我的耐心很差，后面学到Javascript的时候就有点心不在焉了。后面三个月的重点PHP课程是真的一点都没听进去，钱倒是浪费了一大半。后来找工作的时候没有办法，只能硬着头皮去面试前端。&lt;/p&gt;
&lt;h4 id=&quot;section-1&quot;&gt;2016年3月，第一份工作&lt;/h4&gt;
&lt;p&gt;不知道经过多少次碰一鼻子灰后，终于有一家公司录用（收留）了我。这家公司主要就是帮别人建网站的，所以工作很纯粹，就是切图，设计师给我PSD，我出HTML，没有五险一金，过年过节也没有福利，但是有些地方却让我慢慢的驱散了之前找不到工作时的不安和来自父母的压力。不管技术经理还是设计师，对我这个新人都非常有耐心，遇到问题也不会对我大喊大叫，而是很温柔的教我应该怎么处理才是正确的。这样的氛围，让我感觉整个世界都亮了起来，让我更加坚定了自己要当一个程序员的想法。就是这一年，让我明白培训机构教的东西，真的只是皮毛而已。也是这一年，让我的切图技能达到了饱和状态。后来离职，老板没有意外，他也知道在他那里再待下去，也没有什么提升空间了。&lt;/p&gt;
&lt;h4 id=&quot;section-2&quot;&gt;2017年6月，第二份工作&lt;/h4&gt;
&lt;p&gt;这是一家媒体公司，主要做音频优化和影音设备的，我也不明白他们为什么会需要前端，也不明白为什么会选到我，刚开始我的工作就是切切图，美化一下表单。&lt;/p&gt;
&lt;p&gt;再后来，公司终于决定搞个大项目——在线音频优化平台。&lt;/p&gt;
&lt;p&gt;项目研发的五个月里，我从一个不太会Javascript的小白，变成了一个可以独挡一面的中级前端工程师，从一个完全没接触过Linux的菜鸟，拥有了一个运维实习生的水平，也对各种工具有了很深的了解，而最主要的一件事，就是让我的PHP技能入门了。这着实让我很开心，在2018年，我拥有了自己的第一个域名，拥有了硕大互联网中的一个旮旯。&lt;/p&gt;
&lt;p&gt;项目开发几近尾声，却被突然叫停，后来我上班的内容就是每天打游戏，刷油管。&lt;/p&gt;
&lt;p&gt;我变成了一个名副其实的摸鱼族。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;居安思危，居安思危啊各位&lt;/strong&gt;！&lt;/p&gt;
&lt;p&gt;就这样浪费了小半年时间后，公司发生变故，据上级领导讲，是融资出现问题，这时我的工资已经推迟三个月没有发，社保和公积金也停止了缴纳，无奈之下，选择离职。&lt;/p&gt;
&lt;h4 id=&quot;section-3&quot;&gt;2019年2月，现在的工作&lt;/h4&gt;
&lt;p&gt;很巧，现在公司，和以前修车的地方，只有100米的距离，由于急着要续社保和公积金，在这里工作也只是缓兵之计。后来，事实证明我错了，自认为已经能写好Javascript的我，在这里才知道原来JS还有一种叫封装的写法，这不禁让我感到无比惭愧。而现在我只想躲在这个小角落，潜心修行。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;如果我的职业生涯重新开始，我会不会选择同样的道路？&lt;/p&gt;
&lt;p&gt;我想我会的，因为这世上没有后悔药，也没有时光机。无论我怎么后悔，怎么不甘，我都要接受现实。只是现在我可以把我踩过的泥坑和跌过的跟头，分享给你们作为参考，不要再犯我犯过的错误。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;注册一个GitHub账号吧&lt;/strong&gt;。你在那里真可以学到很多，但是不要盲目追求小绿点，那种行为不会让你有任何进步，反而会让别人在看你Commits的时候嗤之以鼻。&lt;/li&gt;
&lt;li&gt;有条件的话，尽量&lt;strong&gt;使用Google作为你的首要搜索引擎&lt;/strong&gt;，同时&lt;strong&gt;学好英语&lt;/strong&gt;。使用英语在搜索引擎上查找答案会让你获得更精确更权威的答案，但是不管是什么问题，你都一定要有自己的理解和看法。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;不要纠结写代码应该选哪个编辑器&lt;/strong&gt;。我刚学编曲的时候也问过这种问题，哪个软件最好，哪个软件最牛逼，结论是，不管编程软件也好，编曲软件也好，&lt;strong&gt;适合你的，你用着舒服的，才是最好的&lt;/strong&gt;！&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;建一个自己的博客&lt;/strong&gt;。不管你是在博客论坛上注册账号，还是自己搭建博客，或者其他方式，只要能够记录自己学习过程遇到的问题以及发表一些有趣的文章就可以，不要害怕出错或者别人对你的勘误，相反，这些才是你进步的动力。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;不要浪费太多时间在重复工作上&lt;/strong&gt;。如果一项工作让你觉得乏味，让你觉得有那么一丝流水线的意思，一定要去和领导说，让他给你分配一些有挑战性的工作，这样你才会进步，如果领导不愿意，那你就离职，不要犹豫，原地踏步对你没有一点好处。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;不要盲目跟风&lt;/strong&gt;。面对很多同类型库、同类型技术或者同类型产品的时候，不要跟着大众选择走，可以先全部体验一遍，然后选一个你觉得最有兴趣的，去钻研，去学习，当你能完全理解那个东西的时候，再去看看同类型的其他东西，你会觉得他们都非常简单。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;多获取资讯&lt;/strong&gt;。留心网络上一些比较火的新技术或者新的东西，比如最近的AI, VR, AR，不一定要去研究，但是不能落后，信息时代的任何工作都随时面临过时过气。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意自己的形象&lt;/strong&gt;。你是程序员不错，但是不代表作为程序员的你可以邋遢，可以不顾自己的形象以及自己使用的物品。我见过很多程序员的电脑键盘，里面有面包屑，头发，指甲，键盘上全是油，对于这样的人我是不愿意靠近的，更何况要找男/女朋友呢？&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意自己的健康状态&lt;/strong&gt;。很多时候我们都能听到谁谁谁又猝死了，在某某公司当程序员这样的话，并不是危言耸听，久坐，长时间不喝水，长时间盯着电脑确实会严重影响你的健康。所以设个小闹钟，每隔一段时间起来走走，喝喝水，看看窗外。偶尔的加班是可以的，但是如果天天加班，我劝你还是离职比较好，拿的工资够用就好，人没了就真的什么都没了。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;少摸鱼&lt;/strong&gt;。不摸鱼是不可能的，这辈子都不可能的，我理解，因为我现在就在摸鱼（上班时间写博客），但是尽量少摸鱼吧，多看点有用的东西，搞笑视频，小说这种，坐车的时候看看就可以了。上班还是做点有意义的事情吧。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;本来这篇文章的标题叫《写给前端新人》的，但是我不想当一个人生导师一样的人物，我也不够格。以上，有对自己的批判，也有对所有新人的期望吧。&lt;/p&gt;
&lt;p&gt;谢谢阅读！&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;注&lt;/em&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;华育国际&lt;/strong&gt;&lt;/em&gt;：&lt;em&gt;可以看一下知乎这个提问：&lt;a href=&quot;https://www.zhihu.com/question/31654838&quot;&gt;华育国际的培训怎么样？&lt;/a&gt;。我想在这里“大放厥词”一下，目前任何培训机构教给你的课程，你完全可以自学，甚至可以学得更好。网上有一大堆免费的资源，如果你能把这些资源全部理解并熟记，足以让你成为这个领域中专家级别的人。只是你愿不愿意钻研，愿意花多少时间的问题。&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="职业生涯" /><category term="经验" /><summary type="html">一转眼，做前端也有三年多了。今天不想写代码，就想说一说我的职业生涯。</summary></entry><entry><title type="html">GitHub OAuth App怎么跳转到用户授权之前的页面？</title><link href="https://jw1.dev/2019/10/22/a01.html" rel="alternate" type="text/html" title="GitHub OAuth App怎么跳转到用户授权之前的页面？" /><published>2019-10-22T00:00:00+08:00</published><updated>2019-10-22T00:00:00+08:00</updated><id>https://jw1.dev/2019/10/22/a01</id><content type="html" xml:base="https://jw1.dev/2019/10/22/a01.html">&lt;p&gt;最近完成了博客的评论系统，第三方登录使用了GitHub OAuth App。至于教程或者示例，随便谷歌、百度一下都是一大片，或许正是因为查的太多了，以至于所有的教程都在告诉你怎么注册、怎么调用API、怎么用XXX后端获取数据等等等等...&lt;/p&gt;
&lt;p&gt;但是他们好像都忽略了一个问题：&lt;/p&gt;
&lt;p&gt;—— &lt;strong&gt;在获取Token或者用户信息之后，客户端要怎么跳转回用户授权之前的页面？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;先声明一下，这篇文章不会教你怎么注册或使用GitHub OAuth App，如果你还不熟悉它，可以先阅读一下&lt;a href=&quot;https://developer.github.com/apps/building-oauth-apps/&quot;&gt;官方文档&lt;/a&gt;，如果你不太喜欢英语，可以看看阮一峰的&lt;a href=&quot;http://www.ruanyifeng.com/blog/2019/04/github-oauth.html&quot;&gt;GitHub OAuth 第三方登录示例教程&lt;/a&gt;或者其他大佬/论坛的教程。&lt;/p&gt;
&lt;p&gt;好了，先看一下GitHub OAuth的流程：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;浏览器带 &lt;code&gt;client_id&lt;/code&gt; 和 &lt;code&gt;redirect_uri&lt;/code&gt; 跳转到GitHub&lt;/li&gt;
&lt;li&gt;用户授权&lt;/li&gt;
&lt;li&gt;如果用户同意授权，GitHub会返回一个&lt;code&gt;code&lt;/code&gt;参数，形式为 &lt;code&gt;https://redirect_uri?code=xxxxxxxxxxxxx&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;客户端带&lt;code&gt;code&lt;/code&gt; &lt;code&gt;client_id&lt;/code&gt; 和 &lt;code&gt;client_secret&lt;/code&gt;发送POST请求到GitHub获取 &lt;code&gt;token&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;客户端使用 &lt;code&gt;token&lt;/code&gt; 获取用户信息&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;如果用URL的跳转来表现的话大概就是这样：&lt;/p&gt;
&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;blog.com/post/01.html
    ----&amp;gt;
https://github.com/login/oauth/authorize?client_id=xxx&amp;amp;redirect_uri=xxx
    ----&amp;gt;
api.blog.com/?code=xxx        # api.blog.com就是你填在GitHub OAuth App的Callback URL
    ----&amp;gt; POST
https://github.com/login/oauth/access_token
    ----&amp;gt;
???
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;对！问题来了！&lt;/p&gt;
&lt;p&gt;怎么跳转？跳哪里？&lt;/p&gt;
&lt;p&gt;作为开发者，我肯定是想跳回&lt;code&gt;blog.com/post/01.html&lt;/code&gt;实现无缝体验对吧...&lt;/p&gt;
&lt;p&gt;然而就这个问题，不管是CSDN，还是Stack Overflow，甚至官方文档，&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;全都没有！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;终于，在死了不知道多少脑细胞后，我想出了如下实现过程：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;假设用户在&lt;code&gt;blog.com/post/01.html&lt;/code&gt;这张页面上点击了GitHub登录按钮，这个登录按钮不要直接跳转到GitHub授权页面，先跳转到你自己设置的GitHub OAuth App的Callback URL，这里假设是&lt;code&gt;api.blog.com&lt;/code&gt;，把当前页面的URL传给&lt;code&gt;api.blog.com&lt;/code&gt;，例如：&lt;code&gt;api.blog.com?url=blog.com/post/01.html&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;这样在跳转到&lt;code&gt;api.blog.com&lt;/code&gt;的时候，你就知道了点击登录的是哪张页面了，这时候可以把传过来URL记录到&lt;code&gt;localStorage&lt;/code&gt;或者Cookie，甚至是后端的Session，反正不管怎么样，找个地方记录一下就可以了，因为这时候我们还要跳转到&lt;code&gt;github.com&lt;/code&gt;，不记录的话就丢失了数据&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;用户在&lt;code&gt;github.com&lt;/code&gt;完成授权后，还是会跳转到&lt;code&gt;api.blog.com&lt;/code&gt;，因为跳转前记录了授权前传来的页面URL，在你获取到Token之后，你可以把URL再读取出来：&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// localStorage 这么用&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;localStorage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// Cookie 这么用&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// 这个function w3c抄来的&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getCookie&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ca&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cookie&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ca&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ca&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;charAt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;getCookie&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;获取用户信息的请求可以在&lt;code&gt;api.blog.com&lt;/code&gt;做，也可以像我一样带着&lt;code&gt;token&lt;/code&gt;回到&lt;code&gt;blog.com/post/01.html&lt;/code&gt;去做。&lt;/p&gt;
&lt;p&gt;因为自己的博客~~URL特殊，又是Hash又是URL Param~~(原本是单页App，现在已调整为纯静态，但是不影响思路)，而且也不想用户在回到页面的时候，URL后面跟着一个长长的&lt;code&gt;token&lt;/code&gt;，我还新加了一个跳转页面 &lt;code&gt;blog.com/r.html&lt;/code&gt;，这个页面负责接收&lt;code&gt;token&lt;/code&gt;和跳转的页面，将&lt;code&gt;token&lt;/code&gt;写入浏览器存储（上面说的&lt;code&gt;localStorage&lt;/code&gt;或者Cookie）之后再进行跳转，在&lt;code&gt;blog.com/post/01.html&lt;/code&gt;完成用户信息的调用后删除记录在浏览器存储里面的&lt;code&gt;token&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/p_assets/201910/nice.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;p&gt;虽然流程跑通了，但是我还是很好奇为什么GitHub官方文档里完全找不到这一部分的说明，在搜索引擎上也找不到相关文章...&lt;/p&gt;
&lt;p&gt;随便吧，现在看起来，只能这样解决...&lt;/p&gt;</content><author><name></name></author><category term="GitHub" /><category term="OAuth" /><category term="Web App" /><summary type="html">最近完成了博客的评论系统，第三方登录使用了GitHub OAuth App。至于教程或者示例，随便谷歌、百度一下都是一大片，或许正是因为查的太多了，以至于所有的教程都在告诉你怎么注册、怎么调用API、怎么用XXX后端获取数据等等等等...</summary></entry><entry><title type="html">开发一个web音乐播放器到底有多难？</title><link href="https://jw1.dev/2019/08/22/a01.html" rel="alternate" type="text/html" title="开发一个web音乐播放器到底有多难？" /><published>2019-08-22T00:00:00+08:00</published><updated>2019-08-22T00:00:00+08:00</updated><id>https://jw1.dev/2019/08/22/a01</id><content type="html" xml:base="https://jw1.dev/2019/08/22/a01.html">&lt;p&gt;前段时间比较闲，顺便就开发了自己的音乐主页👉&lt;a href=&quot;https://music.jw1.dev&quot;&gt;https://music.jw1.dev&lt;/a&gt;，开发过程中遇到不少问题，一度以为解决不了，但是最后看来，其实实现都非常简单。&lt;/p&gt;
&lt;p&gt;首先看看html吧&lt;/p&gt;
&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;audio&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;path/to/your/audio/file&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/audio&amp;gt;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- 或者 --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;audio&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;source&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;path/to/your/audio/file&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;audio/mpeg&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/audio&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;这时候打开页面你会发现...什么都没有。&lt;/p&gt;
&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;audio&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;path/to/your/audio/file&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;controls&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/audio&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;加上&lt;code&gt;controls&lt;/code&gt;这个属性，浏览器才会显示原生的音频组件。至于浏览器兼容性我就不讲了，还是老样子扔个MDN链接在这里😁：&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio#Browser_compatibility&quot;&gt;https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio#Browser_compatibility&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;所以，搞定了？&lt;/p&gt;
&lt;p&gt;不！像我这种有强迫症的人，怎么可能让每个浏览器的显示都不一致！&lt;/p&gt;
&lt;p&gt;要做的第一件事情就是，隐藏&lt;code&gt;audio&lt;/code&gt;的原生控制组件：&lt;/p&gt;
&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;audio&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;path/to/your/audio/file&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/audio&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- 去掉 controls --&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(👆三遍了🤣&lt;/p&gt;
&lt;p&gt;然后用CSS将&lt;code&gt;audio&lt;/code&gt; 移出文档流：&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;fixed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-12138px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;为什么要这么做？&lt;/p&gt;
&lt;p&gt;—— 为了避免一些非主流的浏览器会让&lt;code&gt;audio&lt;/code&gt;在没有&lt;code&gt;controls&lt;/code&gt;属性的情况下出现在不应该出现的地方。(好累&lt;/p&gt;
&lt;p&gt;接下来看JS的部分&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 或者用jQuery&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;原生JavaScript在log下只能看到标签，而jQuery则会把所有和这个元素有关的东西都列出来，不论是有用的还是没有用的。但是知道有那么多属性/事件可以用是件好事，在这里说几样比较重要的。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;接下来js区域中的&lt;code&gt;audio&lt;/code&gt;都是以原生js获取的对象，如果你使用jQuery，audio赋值应该为&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;audioplay&quot;&gt;# audio.play()&lt;/h4&gt;
&lt;p&gt;可以调用此方法来播放音频。因为市面上大多数浏览器不允许直接用js触发音乐播放，必须要由用户来触发该事件(&apos;click&apos;, &apos;scroll&apos;, &apos;focus&apos;, etc.)，所以我们可以加一个播放按钮来触发事件：&lt;/p&gt;
&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;audio&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;path/to/your/audio/file&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/audio&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;button&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;play&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;play&lt;span class=&quot;nt&quot;&gt;&amp;lt;/button&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// 获取play button&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;playBtn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;.play&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 给play button添加点击事件&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;playBtn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
    
    &lt;span class=&quot;c1&quot;&gt;// play button 点击后播放音频&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h4 id=&quot;audiopause-amp-audiopaused&quot;&gt;# audio.pause() &amp;amp; audio.paused&lt;/h4&gt;
&lt;p&gt;调用&lt;code&gt;audio.pause()&lt;/code&gt;来暂停音频。&lt;/p&gt;
&lt;p&gt;调用&lt;code&gt;audio.paused&lt;/code&gt;来获取音频暂停状态，&lt;code&gt;true&lt;/code&gt;为暂停状态，&lt;code&gt;false&lt;/code&gt;则为播放状态。&lt;/p&gt;
&lt;p&gt;比如我现在需要再点击一次play button来暂停音频，我们可以这样做：&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;playBtn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
    
    &lt;span class=&quot;c1&quot;&gt;// 点击后判断音频是否为暂停状态&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;paused&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
        
        &lt;span class=&quot;c1&quot;&gt;// 如果audio.paused为true&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 则音频为暂停状态&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 这时候我们就要播放音频&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 同时修改button的文字为pause&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;playBtn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;innerHTML&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;pause&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        
        &lt;span class=&quot;c1&quot;&gt;// 如果audio.paused为false&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 则音频为播放状态&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 这时候我们就要暂停音频&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 同时修改button的文字为play&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pause&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;playBtn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;innerHTML&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h4 id=&quot;audiocurrenttime&quot;&gt;# audio.currentTime&lt;/h4&gt;
&lt;p&gt;调用此属性获取音频当前已播放时间。&lt;/p&gt;
&lt;p&gt;修改此属性可以达到切换音频当前播放位置的功能：&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// 快进十秒&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;fastForward&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;currentTime&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;currentTime&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;fastForward&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h4 id=&quot;audioduration&quot;&gt;# audio.duration&lt;/h4&gt;
&lt;p&gt;调用此属性获取音频的长度，单位为秒。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;已知问题&lt;/strong&gt;：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在&lt;code&gt;Firefox&lt;/code&gt;上会出现读不到duration的情况，可能和修改&lt;code&gt;audio.src&lt;/code&gt;有关，我在自己项目中的做法是使用了&lt;code&gt;ffmpeg&lt;/code&gt;读取出duration，直接当作变量使用，没有使用浏览器给的这个属性。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;audioontimeupdate&quot;&gt;# audio.ontimeupdate&lt;/h4&gt;
&lt;p&gt;此方法在音频播放期间会循环调用，经测试，调用间隔大约为200ms一次。&lt;/p&gt;
&lt;p&gt;此方法可以用在更新音频进度条上。有了上面的&lt;code&gt;audio.currentTime&lt;/code&gt;和&lt;code&gt;audio.duration&lt;/code&gt;，我们可以算出当前音频播放进度的百分比：&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// 将百分比定为全局变量&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;audioProgressPercent&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ontimeupdate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
    
    &lt;span class=&quot;c1&quot;&gt;// 在audio时间更新的时候计算当前进度百分比&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;audioProgressPercent&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;currentTime&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;duration&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;audioProgressPercent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;这个时候如果你打开页面开始播放音频，就会看到控制台一直在更新进度百分比了，至于这个数值怎么用，不用我教大家了吧。😁&lt;/p&gt;
&lt;h4 id=&quot;audiobuffered&quot;&gt;# audio.buffered&lt;/h4&gt;
&lt;p&gt;调用此属性可以获取当前音频的缓冲进度和区间：&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// 每200ms获取一次缓冲区间&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bufferedTimeInterval&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// 缓冲可以有多个区间&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 所以我们尽量都获取到&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bufferedLength&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;buffered&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// 以bufferedLength做循环&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bufferedLength&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bufferedStart&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;buffered&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bufferedEnd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;buffered&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bufferedStart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bufferedEnd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;控制台输出：&lt;/p&gt;
&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; 0 17.64
  56.45 78.90
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;输出的含义为：&lt;/p&gt;
&lt;p&gt;这一次读取&lt;code&gt;audio.buffered&lt;/code&gt;得到了两个区间，所以循环了两次。&lt;/p&gt;
&lt;p&gt;第一次获得的区间是&lt;code&gt;[0,17.64]&lt;/code&gt;，代表第0秒到第17.64秒之间的音频已经缓冲好了，可以直接播放。&lt;/p&gt;
&lt;p&gt;第二次获得的区间是&lt;code&gt;[56.45,78.90]&lt;/code&gt;，代表这两个数字之间的音频已经缓冲好了，可以直接播放。&lt;/p&gt;
&lt;h4 id=&quot;audioonwaiting-amp-audioonplay&quot;&gt;# audio.onwaiting &amp;amp; audio.onplay&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;audio.onwaiting&lt;/code&gt;会在音频开始缓冲的时候被激活；&lt;/p&gt;
&lt;p&gt;&lt;code&gt;audio.onplay&lt;/code&gt;会在音频开始播放的时候被激活；&lt;/p&gt;
&lt;p&gt;这时候我们可以做一个loading的动画，告诉用户音频正在加载了：&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;onwaiting&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;audio is loading&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 在这里激活loading动画&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;onplay&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;audio is playing&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 在这里关闭loading动画&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h4 id=&quot;audioended-amp-audiosrc&quot;&gt;# audio.ended &amp;amp; audio.src&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;audio.ended&lt;/code&gt;顾名思义，会在音频结束后被激活；&lt;/p&gt;
&lt;p&gt;&lt;code&gt;audio.src&lt;/code&gt;是音频文件的位置，可修改；&lt;/p&gt;
&lt;p&gt;当你有一个播放列表，且想在音频结束后播放下一首歌，你就可以：&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// 定义播放列表&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;playList&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;path/to/song1&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;path/to/song2&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;path/to/song3&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 定义当前播放歌曲的ID&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;currentSongID&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 音频结束后自动播放下一首&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;onended&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
    
    &lt;span class=&quot;c1&quot;&gt;// 更新当前播放歌曲的ID&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;currentSongID&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;currentSongID&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    
    &lt;span class=&quot;c1&quot;&gt;// 如果当前播放歌曲为播放列表中最后一首&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 就从第一首开始放&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;currentSongID&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;playList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;currentSongID&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    
    &lt;span class=&quot;c1&quot;&gt;// 改变audio的src属性&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;playList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;currentSongID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;哦还有！&lt;/p&gt;
&lt;h4 id=&quot;audiovolume&quot;&gt;# audio.volume&lt;/h4&gt;
&lt;p&gt;调用获取音频的音量，可修改；&lt;/p&gt;
&lt;p&gt;可以做点fade in / fade out的效果，使用jQuery可以很简单的做出来，原文中也有原生js的实现方法(太长没看&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;$audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newVolume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;原文链接：&lt;a href=&quot;https://stackoverflow.com/questions/7451508/html5-audio-playback-with-fade-in-and-fade-out&quot;&gt;https://stackoverflow.com/questions/7451508/html5-audio-playback-with-fade-in-and-fade-out&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;好了，以上就是我开发音乐主页之后想和大家分享的。&lt;/p&gt;
&lt;p&gt;至于题中的问题，我的答案是：真的很简单。&lt;/p&gt;
&lt;p&gt;只是js有一些性能上的限制，不能什么功能都往网页上搬...&lt;/p&gt;
&lt;p&gt;在我的音乐主页中有一个砍掉的功能&lt;/p&gt;
&lt;p&gt;—— 节拍器&lt;/p&gt;
&lt;p&gt;为啥砍掉了呢...&lt;/p&gt;
&lt;p&gt;因为js的处理效率真的不高(或者只是我太辣鸡)，中低端手机做出来的节拍器根本不准，至于实现原理，很简单：&lt;/p&gt;
&lt;p&gt;歌曲的bpm(beat per minute)是已知的：&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// 假设现在我有一首歌bpm为120&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bpm&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;120&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 每40毫秒更新一次，目的是让bpm更新不低于24fps&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// 然而中低端手机的效果却不尽人意&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// pc端倒是没啥问题&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bpmTimeInterval&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 计算每秒有多少beats&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;interval&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bpm&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;
    
    &lt;span class=&quot;c1&quot;&gt;// _b会在时间线呈现出一个锯齿状的图形&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 最高那个点，也就是齿尖，就是一个beat&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;audio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;currentTime&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;interval&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;希望有一天js能有开发Digital Audio Workstation的能力！&lt;/p&gt;
&lt;p&gt;✌&lt;/p&gt;</content><author><name></name></author><category term="JavaScript" /><category term="音乐播放器" /><category term="Web App" /><summary type="html">前段时间比较闲，顺便就开发了自己的音乐主页👉https://music.jw1.dev，开发过程中遇到不少问题，一度以为解决不了，但是最后看来，其实实现都非常简单。</summary></entry><entry><title type="html">Package Control镜像Channel使用说明</title><link href="https://jw1.dev/2019/06/21/a01.html" rel="alternate" type="text/html" title="Package Control镜像Channel使用说明" /><published>2019-06-21T00:00:00+08:00</published><updated>2019-06-21T00:00:00+08:00</updated><id>https://jw1.dev/2019/06/21/a01</id><content type="html" xml:base="https://jw1.dev/2019/06/21/a01.html">&lt;h3 id=&quot;package-control&quot;&gt;1. 安装Package Control&lt;/h3&gt;
&lt;p&gt;Sublime Text作为一款编辑器，其自身功能就已经足够优秀，再加上Package Control，无疑给了Sublime Text更大的进步空间和市场。但是，不知道什么原因，国内已经无法访问&lt;a href=&quot;https://packagecontrol.io&quot;&gt;packagecontrol.io&lt;/a&gt;。作为一个Sublime Text的脑残粉自然是看不下去了，特此做了一个教程和镜像channel，方便各位和我一样喜欢Sublime text的程序~~猿~~。&lt;/p&gt;
&lt;h4 id=&quot;section&quot;&gt;离线安装&lt;/h4&gt;
&lt;p&gt;首先下载Package Control的安装包，鉴于Github现在还能访问，我就直接给Github的下载链接了。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/wbond/package_control/releases/tag/3.3.0&quot;&gt;3.3.0正式版&lt;/a&gt; 👈推荐下载正式版&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/wbond/package_control/releases/tag/3.3.0&quot;&gt;3.3.1 beta2 测试版&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;或者直接从&lt;a href=&quot;https://github.com/wbond/package_control/releases/&quot;&gt;Package Control的Release页&lt;/a&gt;下载。&lt;/p&gt;
&lt;p&gt;下载好后解压，将文件夹&lt;code&gt;package_control-x.x.x&lt;/code&gt;更名为&lt;code&gt;Package Control&lt;/code&gt;。注意大小写！&lt;/p&gt;
&lt;p&gt;打开Sublime Text，点击菜单中的&lt;code&gt;Preferences&lt;/code&gt;，找到&lt;code&gt;Browse Packages&lt;/code&gt;，这时候Sublime Text会打开一个文件夹，把刚刚改好名字的&lt;code&gt;Package Control&lt;/code&gt;文件夹直接复制到这个打开的文件夹中。重启Sublime Text，再次进入菜单中的&lt;code&gt;Preferences&lt;/code&gt;，如果能看到&lt;code&gt;Package Settings&lt;/code&gt;和&lt;code&gt;Package Control&lt;/code&gt;两个选项的话，就说明安装成功了。如果没有看到，可以去本项目的主页&lt;a href=&quot;https://github.com/Jacky-88/mirror-channel-of-packagecontrol/issues&quot;&gt;新开一个Issue&lt;/a&gt;，我看到后会回复的！&lt;/p&gt;
&lt;h3 id=&quot;channel&quot;&gt;2.添加新的Channel&lt;/h3&gt;
&lt;p&gt;当Package Control安装完成后，打开Sublime Text，按下&lt;code&gt;Ctrl/Command&lt;/code&gt;+&lt;code&gt;Shift&lt;/code&gt;+&lt;code&gt;P&lt;/code&gt; 调出命令板，输入&lt;code&gt;Package Control:Add Channel&lt;/code&gt;（Sublime Text命令板支持模糊查询，你可以只打&lt;code&gt;add&lt;/code&gt;，应该就能看到结果了），选中此选项，在打开的文本框中输入&lt;code&gt;https://packagecontrol.jw1.dev/pc.json&lt;/code&gt;（每天更新一次列表），再按下&lt;code&gt;Enter&lt;/code&gt;，此时配置已完成。&lt;/p&gt;
&lt;p&gt;为了加快Channel读取速度，建议删除原来的Channel，还是按下&lt;code&gt;Ctrl/Command&lt;/code&gt;+&lt;code&gt;Shift&lt;/code&gt;+&lt;code&gt;P&lt;/code&gt; 调出命令板，这时候输入&lt;code&gt;Package Control:Remove Channel&lt;/code&gt;，确认后选中&lt;code&gt;https://packagecontrol.io/channel_v3.json&lt;/code&gt;，按下&lt;code&gt;Enter&lt;/code&gt;删除。&lt;/p&gt;
&lt;p&gt;大功告成！&lt;/p&gt;</content><author><name></name></author><category term="Sublime Text" /><category term="Package Control" /><category term="代码编辑器" /><summary type="html">1. 安装Package Control</summary></entry><entry><title type="html">CSS中的calc()</title><link href="https://jw1.dev/2018/12/04/a01.html" rel="alternate" type="text/html" title="CSS中的calc()" /><published>2018-12-04T00:00:00+08:00</published><updated>2018-12-04T00:00:00+08:00</updated><id>https://jw1.dev/2018/12/04/a01</id><content type="html" xml:base="https://jw1.dev/2018/12/04/a01.html">&lt;p&gt;记得刚毕业的时候找工作面试前端，面试官问了我这样一个问题：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;我现在需要一个搜索框，左边放input，右边放搜索按钮，搜索框固定120px，请你写一下布局。&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;当时我的内心：”太简单了！“。&lt;/p&gt;
&lt;p&gt;于是我劈里啪啦敲了一堆：&lt;/p&gt;
&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;demo_wrap&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&amp;lt;button&amp;gt;&lt;/span&gt;search&lt;span class=&quot;nt&quot;&gt;&amp;lt;/button&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;.demo_wrap&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;600px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;auto&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.demo_wrap&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;480px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;40px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.demo_wrap&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;120px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;none&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;40px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;一个简单的搜索框就出来了，像这样：&lt;/p&gt;
&lt;div class=&quot;demo&quot;&gt;
    &lt;div class=&quot;demo_wrap1&quot;&gt;
        &lt;input type=&quot;text&quot;&gt;&lt;button&gt;search&lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;然而面试官就是面试官，他又加了一个要求，&lt;code&gt;我需要适配多种设备的分辨率&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;“切，看我 CSS 媒体查询一梭子！”&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;screen&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;min-width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1440px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;screen&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;min-width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1366px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;screen&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;min-width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1080px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;screen&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;min-width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;960px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;screen&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;min-width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;720px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;/*...*/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;面试官看了后还是摇头：&lt;code&gt;“我要input随窗口大小变化而变化，而且button长度不变。”&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;然后，&lt;/p&gt;
&lt;p&gt;我就，&lt;/p&gt;
&lt;p&gt;呆了，&lt;/p&gt;
&lt;p&gt;这他妈，&lt;/p&gt;
&lt;p&gt;怎么搞？？？&lt;/p&gt;
&lt;p&gt;你个犊子是来搞我的吗？？？&lt;/p&gt;
&lt;p&gt;嗯，理所当然的，这家公司没有面试上，（谁要去你家啊那么远）。&lt;/p&gt;
&lt;p&gt;（废话了一堆你到底要说什么啊？）&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;calc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;我要说的就是这个了。（催你 🐎 呢）&lt;/p&gt;
&lt;p&gt;改成这样之后，我的搜索框就变成了这样：&lt;/p&gt;
&lt;div class=&quot;demo&quot;&gt;
    &lt;div class=&quot;demo_wrap2&quot;&gt;
        &lt;input type=&quot;text&quot;&gt;&lt;button&gt;search&lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;完整代码：&lt;/p&gt;
&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;demo_wrap&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&amp;lt;button&amp;gt;&lt;/span&gt;search&lt;span class=&quot;nt&quot;&gt;&amp;lt;/button&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;.demo_wrap&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;auto&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.demo_wrap&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;calc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;120px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;40px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.demo_wrap&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;120px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;none&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;40px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;可以试试改变浏览器的大小来验证是否真的达到了那位面试官的要求。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;calc()&lt;/code&gt;会让你的 css 也拥有计算能力，支持&lt;code&gt;+ 、- 、*、/&lt;/code&gt;四种运算符（小学啦）。这个属性的应用很简单，不过有几点要注意一下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;运算符左右一定要有空格，如果你写成&lt;code&gt;100%-5px&lt;/code&gt;是不会工作的。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;calc&lt;/code&gt;不要拼错（废话&lt;/li&gt;
&lt;li&gt;不要滥用&lt;code&gt;calc()&lt;/code&gt;，能定实际数值就定实际数值，css 的运算速度肯定是没有 js 快的。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;好了，今日份的 blahblah 结束！&lt;/p&gt;
&lt;p&gt;有问题可以在下面评论或者发邮件给我，我都看得到，现在刚开始人少，只要是前端上的，我能解决的问题，一定会回复的！&lt;/p&gt;</content><author><name></name></author><category term="CSS" /><category term="Calc" /><summary type="html">记得刚毕业的时候找工作面试前端，面试官问了我这样一个问题：</summary></entry><entry><title type="html">Hello World!</title><link href="https://jw1.dev/2018/11/08/a01.html" rel="alternate" type="text/html" title="Hello World!" /><published>2018-11-08T00:00:00+08:00</published><updated>2018-11-08T00:00:00+08:00</updated><id>https://jw1.dev/2018/11/08/a01</id><content type="html" xml:base="https://jw1.dev/2018/11/08/a01.html">&lt;p&gt;憋了这么久的博客总算是弄好了。&lt;/p&gt;
&lt;p&gt;之前想到了一大堆点子，实现上虽然也不算很困难，但是总觉得还是简单一点好（说白了还是懒）。&lt;/p&gt;
&lt;p&gt;Anyway,  以后一定会多多更新（假话），发一些有用的东西。&lt;/p&gt;
&lt;p&gt;博客第一天上线也没有准备什么东西，溜了！😂&lt;/p&gt;</content><author><name></name></author><category term="HelloWorld" /><summary type="html">憋了这么久的博客总算是弄好了。</summary></entry></feed>