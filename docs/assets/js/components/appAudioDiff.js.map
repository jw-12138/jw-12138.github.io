{"version":3,"sources":["../../ts/components/appAudioDiff.js"],"names":["window","appAudioDiff","props","on","default","type","off","template","computed","mounted","_this","instance_id","getTimeStamp","audio_1","$refs","audio_2","addEventListener","canplayFun","playing","hasWave","document","range_count","methods","which","url_arr","src","split","url","axios","method","then","res","status","wave_img","wave_img_src","catch","error","console","log","toggle_loop","e","preventDefault","looping","calcPercentage","ct","currentTime","du","duration","percent","ontimeupdate","adjust_progress_ready","onended","onpause","onplay","playFun","audio_ctx","AudioContext","webAudioContext","webkitAudioContext","gainNode","createGain","gainNode_2","source_1","source_2","gain","value","createMediaElementSource","connect","destination","stopAudio","onRangeInput","range_input","getElementById","switchSource","spec","_off","playing_index","_on","onRangeChange","rangeChangeDown","data","canplay_count","activeText","text","inactiveText","fade_time","watch","mediaElement","play","pause"],"mappings":"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","sourcesContent":["window.appAudioDiff = {\r\n  props: {\r\n    on: {\r\n      default: {},\r\n      type: 'object'\r\n    },\r\n    off: {\r\n      default: {},\r\n      type: 'object'\r\n    }\r\n  },\r\n  template: `\r\n  <div class=\"app-audio-wrap\" :class=\"{ playing: playing }\">\r\n  <audio :src=\"on.src\" preload=\"metadata\" ref=\"audio_1\" :loop=\"looping\"></audio>\r\n  <audio :src=\"off.src\" preload=\"metadata\" ref=\"audio_2\" :loop=\"looping\"></audio>\r\n  <div class=\"name bg\" @click=\"switchSource('on')\">\r\n    <span class=\"icon\" aria-hidden=\"true\">\r\n      <svg title=\"icon, playing\" :style=\"{ display: playing_index == 0 ? 'block' : 'none' }\" xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z\" /></svg>\r\n    </span>\r\n    <span :title=\"playing_index == 0 ? 'Currently on this track' : ''\">\r\n      {{ activeText }}\r\n    </span>\r\n  </div>\r\n  <div class=\"name bg\" @click=\"switchSource('off')\">\r\n    <span class=\"icon\" aria-hidden=\"true\">\r\n      <svg title=\"icon, playing\" :style=\"{ display: playing_index == 1 ? 'block' : 'none' }\" xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z\" /></svg>\r\n    </span>\r\n    <span :title=\"playing_index == 1 ? 'Currently on this track' : ''\">\r\n      {{ inactiveText }}\r\n    </span>\r\n  </div>\r\n  <div class=\"time\" title=\"This is the timing panel\">\r\n    <span class=\"b\" :title=\"'Currently on the ' + parseInt(currentTime) + ' second'\">{{ sec2time(currentTime) }}</span> <em aria-hidden=\"true\">/</em> <span :title=\"'This track has ' + parseInt(duration) + ' seconds'\">{{ sec2time(duration) }}</span>\r\n  </div>\r\n  <div class=\"control\" title=\"This is the control panel\">\r\n    <div class=\"btn-grp\">\r\n      <button class=\"btn\" @click=\"playFun\" :title=\"!playing ? 'Paused, click to start playing audio' : 'started, click to pause audio'\">\r\n        <svg v-if=\"!playing\" xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M10.8 15.9l4.67-3.5c.27-.2.27-.6 0-.8L10.8 8.1c-.33-.25-.8-.01-.8.4v7c0 .41.47.65.8.4zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" /></svg>\r\n        <svg v-if=\"playing\" xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M10 16c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1s-1 .45-1 1v6c0 .55.45 1 1 1zm2-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm2-4c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1s-1 .45-1 1v6c0 .55.45 1 1 1z\" /></svg>\r\n      </button>\r\n      <button class=\"btn\" @click=\"stopAudio\" title=\"click to stop playing audio\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" enable-background=\"new 0 0 24 24\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\r\n          <g>\r\n            <rect fill=\"none\" height=\"24\" width=\"24\" />\r\n            <rect fill=\"none\" height=\"24\" width=\"24\" />\r\n          </g>\r\n          <g><path d=\"M9,16h6c0.55,0,1-0.45,1-1V9c0-0.55-0.45-1-1-1H9C8.45,8,8,8.45,8,9v6 C8,15.55,8.45,16,9,16z M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2L12,2z\" fill-rule=\"evenodd\" /></g>\r\n        </svg>\r\n      </button>\r\n      <button class=\"btn\" @click=\"switchSource\" title=\"click to switch audio source\" :class=\"{ on: playing_index == 1, spin: playing_index == 1 }\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\r\n          <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n          <path d=\"M9.01 14H3c-.55 0-1 .45-1 1s.45 1 1 1h6.01v1.79c0 .45.54.67.85.35l2.78-2.79c.19-.2.19-.51 0-.71l-2.78-2.79c-.31-.32-.85-.09-.85.35V14zm5.98-2.21V10H21c.55 0 1-.45 1-1s-.45-1-1-1h-6.01V6.21c0-.45-.54-.67-.85-.35l-2.78 2.79c-.19.2-.19.51 0 .71l2.78 2.79c.31.31.85.09.85-.36z\" />\r\n        </svg>\r\n      </button>\r\n      <button class=\"btn\" :title=\"!looping ? 'Put audio on loop' : 'Currently on loop, click again to disable'\" @click=\"toggle_loop\" :class=\"{ on: looping }\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M12 4V2.21c0-.45-.54-.67-.85-.35l-2.8 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.32.31.86.09.86-.36V6c3.31 0 6 2.69 6 6 0 .79-.15 1.56-.44 2.25-.15.36-.04.77.23 1.04.51.51 1.37.33 1.64-.34.37-.91.57-1.91.57-2.95 0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-.79.15-1.56.44-2.25.15-.36.04-.77-.23-1.04-.51-.51-1.37-.33-1.64.34C4.2 9.96 4 10.96 4 12c0 4.42 3.58 8 8 8v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79c-.31-.31-.85-.09-.85.36V18z\" /></svg>\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <input type=\"range\" min=\"0\" max=\"100\" v-model=\"percent\" :id=\"instance_id\" @input=\"onRangeInput\" @change=\"onRangeChange\" title=\"Progress bar\" @mousedown=\"rangeChangeDown\" @touchstart=\"rangeChangeDown\" :style=\"{ 'background-image': 'url(' + wave_img_src + ')' }\" />\r\n</div>\r\n  `,\r\n  computed: {},\r\n  mounted: function() {\r\n    let _this = this\r\n    if (!_this.on) {\r\n      return false\r\n    }\r\n    if (!_this.off) {\r\n      return false\r\n    }\r\n\r\n    _this.instance_id = '_' + getTimeStamp()\r\n\r\n    _this.audio_1 = _this.$refs.audio_1\r\n    _this.audio_2 = _this.$refs.audio_2\r\n    _this.audio_1.addEventListener('loadedmetadata', function() {\r\n      _this.canplayFun()\r\n    })\r\n    _this.audio_1.addEventListener('pause', function() {\r\n      _this.playing = false\r\n    })\r\n    _this.audio_1.addEventListener('play', function() {\r\n      _this.playing = true\r\n    })\r\n    _this.hasWave(_this.on)\r\n    document.addEventListener('mouseup', function() {\r\n      _this.range_count = 0\r\n    })\r\n    document.addEventListener('touchend', function() {\r\n      _this.range_count = 0\r\n    })\r\n  },\r\n  methods: {\r\n    hasWave: function(which) {\r\n      let _this = this\r\n      let url_arr = which.src.split('.')\r\n      let url = url_arr[0] + '.png'\r\n      axios({\r\n        method: 'get',\r\n        url: url\r\n      })\r\n        .then(function(res) {\r\n          if (res.status == 200) {\r\n            _this.wave_img = true\r\n            _this.wave_img_src = url\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error)\r\n        })\r\n    },\r\n    toggle_loop: function(e) {\r\n      e.preventDefault()\r\n      this.looping = !this.looping\r\n    },\r\n    calcPercentage: function() {\r\n      let _this = this\r\n      let ct = _this.audio_1.currentTime\r\n      let du = _this.audio_1.duration\r\n      return (ct / du) * 100\r\n    },\r\n    canplayFun: function() {\r\n      let _this = this\r\n      _this.duration = _this.audio_1.duration\r\n      _this.percent = _this.calcPercentage()\r\n      _this.audio_1.ontimeupdate = function() {\r\n        if (!_this.adjust_progress_ready && _this.range_count == 0) {\r\n          _this.percent = _this.calcPercentage()\r\n          _this.currentTime = _this.audio_1.currentTime\r\n        }\r\n      }\r\n      _this.audio_1.onended = function() {\r\n        _this.percent = 0\r\n        _this.audio_1.currentTime = 0\r\n        _this.audio_2.currentTime = 0\r\n        _this.currentTime = 0\r\n      }\r\n\r\n      _this.audio_1.onpause = function() {\r\n        _this.playing = false\r\n      }\r\n\r\n      _this.audio_1.onplay = function() {\r\n        _this.playing = true\r\n      }\r\n    },\r\n    playFun: function(e) {\r\n      e.preventDefault()\r\n      let _this = this\r\n      _this.audio_ctx = _this.audio_ctx == null ? new (window.AudioContext || window.webAudioContext || window.webkitAudioContext)() : _this.audio_ctx\r\n      _this.gainNode = _this.gainNode == null ? _this.audio_ctx.createGain() : _this.gainNode\r\n      _this.gainNode_2 = _this.gainNode_2 == null ? _this.audio_ctx.createGain() : _this.gainNode_2\r\n\r\n      if (_this.source_1 == null && _this.source_2 == null) {\r\n        _this.gainNode.gain.value = 1\r\n        _this.gainNode_2.gain.value = 0\r\n      }\r\n\r\n      _this.source_1 = _this.source_1 == null ? _this.audio_ctx.createMediaElementSource(_this.$refs.audio_1) : _this.source_1\r\n      _this.source_2 = _this.source_2 == null ? _this.audio_ctx.createMediaElementSource(_this.$refs.audio_2) : _this.source_2\r\n\r\n      _this.source_1.connect(_this.gainNode)\r\n      _this.source_2.connect(_this.gainNode_2)\r\n      _this.gainNode.connect(_this.audio_ctx.destination)\r\n      _this.gainNode_2.connect(_this.audio_ctx.destination)\r\n\r\n      _this.playing = !_this.playing\r\n    },\r\n    stopAudio: function(e) {\r\n      e.preventDefault()\r\n      let _this = this\r\n      _this.audio_1.currentTime = 0\r\n      _this.audio_2.currentTime = 0\r\n      _this.currentTime = _this.audio_1.currentTime\r\n      _this.percent = 0\r\n      _this.adjust_progress_ready = false\r\n      _this.playing = false\r\n      _this.looping = false\r\n      _this.range_count = 0\r\n    },\r\n    onRangeInput: function() {\r\n      let _this = this\r\n      let range_input = document.getElementById(_this.instance_id)\r\n      _this.percent = range_input.value\r\n      _this.currentTime = (_this.percent / 100) * _this.audio_1.duration\r\n      _this.adjust_progress_ready = false\r\n      _this.range_count++\r\n    },\r\n    switchSource: function(spec) {\r\n      let _this = this\r\n      let _off = function() {\r\n        if (_this.playing_index == 1) {\r\n          return false\r\n        }\r\n        _this.playing_index = 1\r\n        _this.hasWave(_this.off)\r\n        if (_this.gainNode) {\r\n          _this.gainNode.gain.value = 0\r\n          _this.gainNode_2.gain.value = 1\r\n        }\r\n      }\r\n      let _on = function() {\r\n        if (_this.playing_index == 0) {\r\n          return false\r\n        }\r\n        _this.playing_index = 0\r\n        _this.hasWave(_this.on)\r\n        if (_this.gainNode) {\r\n          _this.gainNode.gain.value = 1\r\n          _this.gainNode_2.gain.value = 0\r\n        }\r\n      }\r\n\r\n      if (typeof spec == 'string' && spec != '') {\r\n        if (spec == 'on') {\r\n          _on()\r\n        } else {\r\n          _off()\r\n        }\r\n        return false\r\n      }\r\n\r\n      if (_this.playing_index == 0) {\r\n        _off()\r\n      } else {\r\n        _on()\r\n      }\r\n    },\r\n    onRangeChange: function() {\r\n      let _this = this\r\n      let range_input = document.getElementById(_this.instance_id)\r\n      _this.percent = range_input.value\r\n      _this.audio_1.currentTime = (_this.percent / 100) * _this.audio_1.duration\r\n      _this.audio_2.currentTime = _this.audio_1.currentTime\r\n      _this.currentTime = _this.audio_1.currentTime\r\n      _this.adjust_progress_ready = false\r\n      _this.range_count = 0\r\n    },\r\n    rangeChangeDown: function() {\r\n      let _this = this\r\n      let range_input = document.getElementById(_this.instance_id)\r\n      _this.percent = range_input.value\r\n      _this.audio_1.currentTime = (_this.percent / 100) * _this.audio_1.duration\r\n      _this.audio_2.currentTime = _this.audio_1.currentTime\r\n      _this.currentTime = _this.audio_1.currentTime\r\n      _this.adjust_progress_ready = true\r\n    }\r\n  },\r\n  data: function() {\r\n    return {\r\n      gainNode: null,\r\n      gainNode_2: null,\r\n      source_1: null,\r\n      source_2: null,\r\n      audio_ctx: null,\r\n      playing: false,\r\n      playing_index: 0,\r\n      duration: 0,\r\n      percent: 0,\r\n      audio_1: null,\r\n      audio_2: null,\r\n      adjust_progress_ready: false,\r\n      currentTime: 0,\r\n      looping: false,\r\n      canplay_count: 0,\r\n      activeText: this.on.text,\r\n      inactiveText: this.off.text,\r\n      wave_img: false,\r\n      wave_img_src: '',\r\n      instance_id: null,\r\n      range_count: 0,\r\n      fade_time: 0.1\r\n    }\r\n  },\r\n  watch: {\r\n    playing: function(e) {\r\n      let _this = this\r\n      if (e) {\r\n        _this.source_1.mediaElement.play()\r\n        _this.source_2.mediaElement.play()\r\n      } else {\r\n        _this.source_1.mediaElement.pause()\r\n        _this.source_2.mediaElement.pause()\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"file":"appAudioDiff.js"}