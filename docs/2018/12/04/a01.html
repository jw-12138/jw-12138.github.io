<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CSS中的calc() - 一个球的博客</title>
    <link rel="shortcut icon" href="/favicon.png" type="image/x-icon" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Fira+Mono&family=Lexend&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="/assets/css/index.min.css" />
<meta name="keywords" content="一个球,前端,网页,web,技术,css3,html5,frontend,front-end,ableton,live,music,production,编曲,音乐制作,制作人,摄影,CSS,Calc" id="keywords" />
<meta name="description" content="Front-end Developer / Music Producer" />
    
    <style>
      .demo_wrap1 {
    width: 800px;
    margin: 0 auto;
}
.demo_wrap1 input {
    width: 680px;
    height: 40px;
}
.demo_wrap1 button {
    width: 120px;
    border: none;
    height: 40px;
}
.demo_wrap2 {
    width: 100%;
    margin: 0 auto;
}
.demo_wrap2 input {
    width: calc(100% - 120px);
    height: 40px;
}
.demo_wrap2 button {
    width: 120px;
    border: none;
    height: 40px;
}
.dark .demo_wrap1 button {
    color: #fff;
    background-color: #333;
}
.dark .demo_wrap2 button {
    color: #fff;
    background-color: #333;
}
    </style>
    
  </head>
  <body>
    <div id="app">
      <div class="app-wrap">
        <header>
  <div class="logo">
    <a href="/" title="Click here to navigate homepage" id="header">
      <div class="img">
        <img src="/assets/img/logo-black.png" alt="logo" class="dark" />
        <img src="/assets/img/logo.png" alt="logo" class="light" />
      </div>
    </a>
  </div>
  <div class="slogan" ref="slogan">
    Front-end Developer / Music Producer
  </div>
  <div class="page-small-menu" v-if="page_small">
    <ul>
      
      <li>
        <a href="/about/">About Me</a>
      </li>
      
      <li>
        <a href="/atom.xml" target="_blank">RSS</a>
      </li>
    </ul>
  </div>
</header>
        <div class="page-wrap">
          <section class="pages" style="padding-top: 20px">
            <div class="page">
              <div class="wrap">
                <h2 class="page-header">CSS中的calc()</h2>
                 
                <div class="page-date">
                  <span>👨‍💻 2018-12-04</span>
                  
                  <span> <br />✍ 2019-03-15</span>
                  
                </div>
                
                <div class="page-content"><p>记得刚毕业的时候找工作面试前端，面试官问了我这样一个问题：</p>
<p><code>我现在需要一个搜索框，左边放input，右边放搜索按钮，搜索框固定120px，请你写一下布局。</code></p>
<p>当时我的内心：”太简单了！“。</p>
<p>于是我劈里啪啦敲了一堆：</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"demo_wrap"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="nt">/&gt;&lt;button&gt;</span>search<span class="nt">&lt;/button&gt;&lt;/div&gt;</span>
</code></pre></div></div>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.demo_wrap</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">600px</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="nb">auto</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.demo_wrap</span> <span class="nt">input</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">480px</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">40px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.demo_wrap</span> <span class="nt">button</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">120px</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">40px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>一个简单的搜索框就出来了，像这样：</p>
<div class="demo">
    <div class="demo_wrap1">
        <input type="text"><button>search</button>
    </div>
</div>
<p>然而面试官就是面试官，他又加了一个要求，<code>我需要适配多种设备的分辨率</code>。</p>
<p>“切，看我 CSS 媒体查询一梭子！”</p>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@media</span> <span class="n">screen</span> <span class="n">and</span> <span class="p">(</span><span class="n">min-width</span><span class="p">:</span> <span class="m">1440px</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
<span class="k">@media</span> <span class="n">screen</span> <span class="n">and</span> <span class="p">(</span><span class="n">min-width</span><span class="p">:</span> <span class="m">1366px</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
<span class="k">@media</span> <span class="n">screen</span> <span class="n">and</span> <span class="p">(</span><span class="n">min-width</span><span class="p">:</span> <span class="m">1080px</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
<span class="k">@media</span> <span class="n">screen</span> <span class="n">and</span> <span class="p">(</span><span class="n">min-width</span><span class="p">:</span> <span class="m">960px</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
<span class="k">@media</span> <span class="n">screen</span> <span class="n">and</span> <span class="p">(</span><span class="n">min-width</span><span class="p">:</span> <span class="m">720px</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
<span class="c">/*...*/</span>
</code></pre></div></div>
<p>面试官看了后还是摇头：<code>“我要input随窗口大小变化而变化，而且button长度不变。”</code></p>
<p>然后，</p>
<p>我就，</p>
<p>呆了，</p>
<p>这他妈，</p>
<p>怎么搞？？？</p>
<p>你个犊子是来搞我的吗？？？</p>
<p>嗯，理所当然的，这家公司没有面试上，（谁要去你家啊那么远）。</p>
<p>（废话了一堆你到底要说什么啊？）</p>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">calc</span><span class="o">(</span><span class="err">100</span><span class="o">%</span> <span class="nt">-</span> <span class="err">120</span><span class="nt">px</span><span class="o">)</span>
</code></pre></div></div>
<p>我要说的就是这个了。（催你 🐎 呢）</p>
<p>改成这样之后，我的搜索框就变成了这样：</p>
<div class="demo">
    <div class="demo_wrap2">
        <input type="text"><button>search</button>
    </div>
</div>
<p>完整代码：</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"demo_wrap"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="nt">/&gt;&lt;button&gt;</span>search<span class="nt">&lt;/button&gt;&lt;/div&gt;</span>
</code></pre></div></div>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.demo_wrap</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="nb">auto</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.demo_wrap</span> <span class="nt">input</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="n">calc</span><span class="p">(</span><span class="m">100%</span> <span class="n">-</span> <span class="m">120px</span><span class="p">);</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">40px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.demo_wrap</span> <span class="nt">button</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">120px</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">40px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>可以试试改变浏览器的大小来验证是否真的达到了那位面试官的要求。</p>
<p><code>calc()</code>会让你的 css 也拥有计算能力，支持<code>+ 、- 、*、/</code>四种运算符（小学啦）。这个属性的应用很简单，不过有几点要注意一下：</p>
<ol>
<li>运算符左右一定要有空格，如果你写成<code>100%-5px</code>是不会工作的。</li>
<li><code>calc</code>不要拼错（废话</li>
<li>不要滥用<code>calc()</code>，能定实际数值就定实际数值，css 的运算速度肯定是没有 js 快的。</li>
</ol>
<p>好了，今日份的 blahblah 结束！</p>
<p>有问题可以在下面评论或者发邮件给我，我都看得到，现在刚开始人少，只要是前端上的，我能解决的问题，一定会回复的！</p>
</div>
                <div class="page-original">
                  <a class="license" rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width: 0" src="/assets/img/cc.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a>.
                </div>
              </div>
            </div>
          </section>
          <section class="aside" v-if="!page_small" aria-label="aside">
            <ul>
              
              <li>
                <a href="/about/" class="dontread" title="About Me">👦 About Me</a>
              </li>
              
              <li>
                <a href="/atom.xml" title="RSS feeds" class="dontread" target="_blank">🚩 RSS</a>
              </li>
            </ul>
          </section>
        </div>
        <footer>© <span class="copy_right_year">2018 - 2021</span><a href="/" class="footer-link">一个球的博客</a>code with ❤</footer>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.min.js"></script>
    
    <script src="/assets/js/post.js"></script>
  </body>
</html>
